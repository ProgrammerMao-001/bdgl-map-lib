(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["bdgl-map-lib"]=t():e["bdgl-map-lib"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var e={9306:function(e,t,n){var o=n(4901),i=n(6823),r=TypeError;e.exports=function(e){if(o(e))return e;throw new r(i(e)+" is not a function")}},8551:function(e,t,n){var o=n(34),i=String,r=TypeError;e.exports=function(e){if(o(e))return e;throw new r(i(e)+" is not an object")}},9617:function(e,t,n){var o=n(5397),i=n(5610),r=n(6198),a=function(e){return function(t,n,a){var s=o(t),l=r(s);if(0===l)return!e&&-1;var c,p=i(a,l);if(e&&n!==n){while(l>p)if(c=s[p++],c!==c)return!0}else for(;l>p;p++)if((e||p in s)&&s[p]===n)return e||p||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4527:function(e,t,n){var o=n(3724),i=n(4376),r=TypeError,a=Object.getOwnPropertyDescriptor,s=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw new r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4576:function(e,t,n){var o=n(9504),i=o({}.toString),r=o("".slice);e.exports=function(e){return r(i(e),8,-1)}},7740:function(e,t,n){var o=n(9297),i=n(5031),r=n(7347),a=n(4913);e.exports=function(e,t,n){for(var s=i(t),l=a.f,c=r.f,p=0;p<s.length;p++){var u=s[p];o(e,u)||n&&o(n,u)||l(e,u,c(t,u))}}},6699:function(e,t,n){var o=n(3724),i=n(4913),r=n(6980);e.exports=o?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6840:function(e,t,n){var o=n(4901),i=n(4913),r=n(283),a=n(9433);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(o(n)&&r(n,c,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(p){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},9433:function(e,t,n){var o=n(4475),i=Object.defineProperty;e.exports=function(e,t){try{i(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},3724:function(e,t,n){var o=n(9039);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(e,t,n){var o=n(4475),i=n(34),r=o.document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},6837:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},9392:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,n){var o,i,r=n(4475),a=n(9392),s=r.process,l=r.Deno,c=s&&s.versions||l&&l.version,p=c&&c.v8;p&&(o=p.split("."),i=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&a&&(o=a.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/),o&&(i=+o[1]))),e.exports=i},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(e,t,n){var o=n(4475),i=n(7347).f,r=n(6699),a=n(6840),s=n(9433),l=n(7740),c=n(2796);e.exports=function(e,t){var n,p,u,d,f,m,h=e.target,v=e.global,g=e.stat;if(p=v?o:g?o[h]||s(h,{}):o[h]&&o[h].prototype,p)for(u in t){if(f=t[u],e.dontCallGetSet?(m=i(p,u),d=m&&m.value):d=p[u],n=c(v?u:h+(g?".":"#")+u,e.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&r(f,"sham",!0),a(p,u,f,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},616:function(e,t,n){var o=n(9039);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,n){var o=n(616),i=Function.prototype.call;e.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},350:function(e,t,n){var o=n(3724),i=n(9297),r=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=i(r,"name"),l=s&&"something"===function(){}.name,c=s&&(!o||o&&a(r,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},9504:function(e,t,n){var o=n(616),i=Function.prototype,r=i.call,a=o&&i.bind.bind(r,r);e.exports=o?a:function(e){return function(){return r.apply(e,arguments)}}},7751:function(e,t,n){var o=n(4475),i=n(4901),r=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(o[e]):o[e]&&o[e][t]}},5966:function(e,t,n){var o=n(9306),i=n(4117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:o(n)}},4475:function(e,t,n){var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){var o=n(9504),i=n(8981),r=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(i(e),t)}},421:function(e){e.exports={}},5917:function(e,t,n){var o=n(3724),i=n(9039),r=n(4055);e.exports=!o&&!i((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){var o=n(9504),i=n(9039),r=n(4576),a=Object,s=o("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===r(e)?s(e,""):a(e)}:a},3706:function(e,t,n){var o=n(9504),i=n(4901),r=n(7629),a=o(Function.toString);i(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},1181:function(e,t,n){var o,i,r,a=n(8622),s=n(4475),l=n(34),c=n(6699),p=n(9297),u=n(7629),d=n(6119),f=n(421),m="Object already initialized",h=s.TypeError,v=s.WeakMap,g=function(e){return r(e)?i(e):o(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return n}};if(a||u.state){var b=u.state||(u.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,o=function(e,t){if(b.has(e))throw new h(m);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},r=function(e){return b.has(e)}}else{var w=d("state");f[w]=!0,o=function(e,t){if(p(e,w))throw new h(m);return t.facade=e,c(e,w,t),t},i=function(e){return p(e,w)?e[w]:{}},r=function(e){return p(e,w)}}e.exports={set:o,get:i,has:r,enforce:g,getterFor:y}},4376:function(e,t,n){var o=n(4576);e.exports=Array.isArray||function(e){return"Array"===o(e)}},4901:function(e){var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,n){var o=n(9039),i=n(4901),r=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n===p||n!==c&&(i(t)?o(t):!!t)},s=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",p=a.POLYFILL="P";e.exports=a},4117:function(e){e.exports=function(e){return null===e||void 0===e}},34:function(e,t,n){var o=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},6395:function(e){e.exports=!1},757:function(e,t,n){var o=n(7751),i=n(4901),r=n(1625),a=n(7040),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&r(t.prototype,s(e))}},6198:function(e,t,n){var o=n(8014);e.exports=function(e){return o(e.length)}},283:function(e,t,n){var o=n(9504),i=n(9039),r=n(4901),a=n(9297),s=n(3724),l=n(350).CONFIGURABLE,c=n(3706),p=n(1181),u=p.enforce,d=p.get,f=String,m=Object.defineProperty,h=o("".slice),v=o("".replace),g=o([].join),y=s&&!i((function(){return 8!==m((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===h(f(t),0,7)&&(t="["+v(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?m(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&m(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var o=u(e);return a(o,"source")||(o.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return r(this)&&d(this).source||c(this)}),"toString")},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},4913:function(e,t,n){var o=n(3724),i=n(5917),r=n(8686),a=n(8551),s=n(6969),l=TypeError,c=Object.defineProperty,p=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",f="writable";t.f=o?r?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var o=p(e,t);o&&o[f]&&(e[t]=n.value,n={configurable:d in n?n[d]:o[d],enumerable:u in n?n[u]:o[u],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(o){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){var o=n(3724),i=n(9565),r=n(8773),a=n(6980),s=n(5397),l=n(6969),c=n(9297),p=n(5917),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=s(e),t=l(t),p)try{return u(e,t)}catch(n){}if(c(e,t))return a(!i(r.f,e,t),e[t])}},8480:function(e,t,n){var o=n(1828),i=n(8727),r=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},1625:function(e,t,n){var o=n(9504);e.exports=o({}.isPrototypeOf)},1828:function(e,t,n){var o=n(9504),i=n(9297),r=n(5397),a=n(9617).indexOf,s=n(421),l=o([].push);e.exports=function(e,t){var n,o=r(e),c=0,p=[];for(n in o)!i(s,n)&&i(o,n)&&l(p,n);while(t.length>c)i(o,n=t[c++])&&(~a(p,n)||l(p,n));return p}},8773:function(e,t){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},4270:function(e,t,n){var o=n(9565),i=n(4901),r=n(34),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!r(s=o(n,e)))return s;if(i(n=e.valueOf)&&!r(s=o(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!r(s=o(n,e)))return s;throw new a("Can't convert object to primitive value")}},5031:function(e,t,n){var o=n(7751),i=n(9504),r=n(8480),a=n(3717),s=n(8551),l=i([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=a.f;return n?l(t,n(e)):t}},7750:function(e,t,n){var o=n(4117),i=TypeError;e.exports=function(e){if(o(e))throw new i("Can't call method on "+e);return e}},6119:function(e,t,n){var o=n(5745),i=n(3392),r=o("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},7629:function(e,t,n){var o=n(6395),i=n(4475),r=n(9433),a="__core-js_shared__",s=e.exports=i[a]||r(a,{});(s.versions||(s.versions=[])).push({version:"3.37.1",mode:o?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){var o=n(7629);e.exports=function(e,t){return o[e]||(o[e]=t||{})}},4495:function(e,t,n){var o=n(7388),i=n(9039),r=n(4475),a=r.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},5610:function(e,t,n){var o=n(1291),i=Math.max,r=Math.min;e.exports=function(e,t){var n=o(e);return n<0?i(n+t,0):r(n,t)}},5397:function(e,t,n){var o=n(7055),i=n(7750);e.exports=function(e){return o(i(e))}},1291:function(e,t,n){var o=n(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:o(t)}},8014:function(e,t,n){var o=n(1291),i=Math.min;e.exports=function(e){var t=o(e);return t>0?i(t,9007199254740991):0}},8981:function(e,t,n){var o=n(7750),i=Object;e.exports=function(e){return i(o(e))}},2777:function(e,t,n){var o=n(9565),i=n(34),r=n(757),a=n(5966),s=n(4270),l=n(8227),c=TypeError,p=l("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var n,l=a(e,p);if(l){if(void 0===t&&(t="default"),n=o(l,e,t),!i(n)||r(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},6969:function(e,t,n){var o=n(2777),i=n(757);e.exports=function(e){var t=o(e,"string");return i(t)?t:t+""}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},3392:function(e,t,n){var o=n(9504),i=0,r=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+r,36)}},7040:function(e,t,n){var o=n(4495);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){var o=n(3724),i=n(9039);e.exports=o&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:function(e,t,n){var o=n(4475),i=n(4901),r=o.WeakMap;e.exports=i(r)&&/native code/.test(String(r))},8227:function(e,t,n){var o=n(4475),i=n(5745),r=n(9297),a=n(3392),s=n(4495),l=n(7040),c=o.Symbol,p=i("wks"),u=l?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return r(p,e)||(p[e]=s&&r(c,e)?c[e]:u("Symbol."+e)),p[e]}},4114:function(e,t,n){var o=n(6518),i=n(8981),r=n(6198),a=n(4527),s=n(6837),l=n(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),p=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},u=c||!p();o({target:"Array",proto:!0,arity:1,forced:u},{push:function(e){var t=i(this),n=r(t),o=arguments.length;s(n+o);for(var l=0;l<o;l++)t[n]=arguments[l],n++;return a(t,n),n}})}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var r=Object.create(null);n.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&o;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return o[e]}}));return a["default"]=function(){return o},n.d(r,a),r}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"bdgl-map-lib.umd.min."+e+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".60d630a1.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="bdgl-map-lib:";n.l=function(o,i,r,a){if(e[o])e[o].push(i);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),p=0;p<c.length;p++){var u=c[p];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,i,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc);var s=function(n){if(a.onerror=a.onload=null,"load"===n.type)i();else{var o=n&&n.type,s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=s,a.parentNode&&a.parentNode.removeChild(a),r(l)}};return a.onerror=a.onload=s,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=n[o],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){i=a[o],r=i.getAttribute("data-href");if(r===e||r===t)return i}},o=function(o){return new Promise((function(i,r){var a=n.miniCssF(o),s=n.p+a;if(t(a,s))return i();e(o,s,null,i,r)}))},i={17:0};n.f.miniCss=function(e,t){var n={636:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={17:0};n.f.j=function(t,o){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise((function(n,o){i=e[t]=[n,o]}));o.push(i[2]=r);var a=n.p+n.u(t),s=new Error,l=function(o){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,i[1](s)}};n.l(a,l,"chunk-"+t,t)}};var t=function(t,o){var i,r,a=o[0],s=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},o=("undefined"!==typeof self?self:this)["webpackChunkbdgl_map_lib"]=("undefined"!==typeof self?self:this)["webpackChunkbdgl_map_lib"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o={};return function(){if(n.r(o),n.d(o,{default:function(){return ae}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(n.p=t[1])}var i=function(){var e=this;e._self._c;return e._m(0)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"a"},[e._v(" main "),t("div",{staticClass:"b"},[e._v("demo")])])}],a={name:"demo-main",components:{},mixins:[],props:{},computed:{},watch:{},filters:{},data(){return{}},methods:{},created(){},mounted(){},destroyed(){}},s=a;function l(e,t,n,o,i,r,a,s){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var p=c.render;c.render=function(e,t){return l.call(t),p(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}var c=l(s,i,r,!1,null,"05ab3702",null),p=c.exports;p.install=e=>{e.component(p.name,p)};var u=p,d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"map-comps"},["aMap"===e.mapType?t("aMap",{ref:"aMap",attrs:{mapConfig:e.aMapConfig},on:{showMarkerDetail:e.showMarkerDetail,showPolylineDetail:e.showPolylineDetail,showPolygonDetail:e.showPolygonDetail,"return-sectionObj":e.getSectionObj}}):e._e(),"bdMap"===e.mapType?t("bdMap",{ref:"bdMap",attrs:{mapConfig:e.bdMapConfig,infoWindowStyle:e.bdInfoWindowStyle},on:{showMarkerDetail:e.showMarkerDetail,showPolylineDetail:e.showPolylineDetail,showPolygonDetail:e.showPolygonDetail,"return-sectionObj":e.getSectionObj,mapChange:e.mapChange}}):e._e(),"tdMap"===e.mapType?t("tdMap"):e._e(),"leafletMap"===e.mapType?t("leafletMap"):e._e()],1)},f=[],m=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"map-container"}})},h=[],v={name:"aMap",components:{},mixins:[],props:{},computed:{mapConfig(){return this.$attrs.mapConfig}},watch:{},filters:{},data(){return{}},methods:{initMap(){var e=new AMap.Map("map-container",{rotateEnable:!1,pitchEnable:!0,zoom:this.mapConfig.zoom,pitch:this.mapConfig.pitch,rotation:this.mapConfig.rotation,viewMode:"3D",zooms:[2,20],center:[this.mapConfig.center.lng,this.mapConfig.center.lat],terrain:!0});AMap.plugin(["AMap.ControlBar","AMap.ToolBar"],(function(){var t=new AMap.ControlBar({position:{right:"20px",bottom:"100px"}});e.addControl(t);var n=new AMap.ToolBar({position:{right:"20px",bottom:"20px"}});e.addControl(n)}))},drawMarker(e){console.log(e,"高德地图DrawMarker"),this.setMapCenterAndZoom(),this.$emit("showMarkerDetail",{})},drawPolyline(e){console.log(e,"高德地图DrawPolyline"),this.$emit("showPolylineDetail",{})},drawPolygon(e){console.log(e,"高德地图drawPolygon"),this.$emit("showPolygonDetail",{})},getIcon(e){console.log(e,"高德地图GetIcon")},setMapCenterAndZoom(e={}){console.log(e,"高德地图SetMapCenterAndZoom")},removeOverlay(e){console.log(e,"高德地图RemoveOverlay")},showRoadCondition(e){console.log(e,"高德地图ShowRoadCondition");let t={a:1};this.$emit("return-sectionObj",t)},setViewport(e){console.log(e,"高德地图SetViewport")}},created(){},mounted(){this.initMap()},destroyed(){}},g=v,y=l(g,m,h,!1,null,"bdeda10e",null),b=y.exports,w=function(){var e=this,t=e._self._c;return t("div",{style:e.mapStyle,attrs:{id:"map-container"}},[t("bdMapVGl",{ref:"bdMapVGl",attrs:{bdMap:e.bdMap}})],1)},x=[],M=(n(4114),function(){var e=this,t=e._self._c;return t("div")}),C=[],O={name:"bdMapVGl",components:{},mixins:[],props:{bdMap:{type:Object,default(){return{}}}},computed:{},watch:{},filters:{},data(){return{}},methods:{initShapeLayer(e={}){let{color:t="rgba(0, 214, 236, 0.8)",enablePicked:n=!0,selectedIndex:o=-1,selectedColor:i="#ee1111",autoSelect:r=!0,data:a=[],onclick:s=(()=>{})}=e;var l=new mapvgl.View({map:this.bdMap}),c=new mapvgl.ShapeLayer(e);l.addLayer(c),this.bdMap.setDefaultCursor("default")}}},S=O,j=l(S,M,C,!1,null,null,null),k=j.exports,P={name:"bdMap",components:{bdMapVGl:k},mixins:[],props:{infoWindowStyle:{type:Object,default:()=>({"--popBg":"#ffffff","--imgDisplay":"block","--closeBtnColor":"#cccccc","--titleHeight":"auto"})}},computed:{mapConfig(){return this.$attrs.mapConfig},mapStyle(){return this.infoWindowStyle}},watch:{},filters:{},data(){return{bdMap:null,sectionObj:{duration:void 0,distance:void 0,pointsArr:[]},rightMenu:void 0,viewport:{WS:void 0,WN:void 0,EN:void 0,ES:void 0,zoom:void 0},roadCondition:[]}},methods:{initMap(){if(console.log(BMapGL,"BMapGL"),this.bdMap=new BMapGL.Map("map-container"),this.bdMap.centerAndZoom(new BMapGL.Point(this.mapConfig.center.lng,this.mapConfig.center.lat),this.mapConfig.zoom),this.bdMap.enableScrollWheelZoom(!0),this.mapConfig.style?.custom){const{custom:e,styleJson:t,styleId:n}=this.mapConfig.style;let o;"styleJson"===e?o={styleJson:t}:"styleId"===e&&(o={styleId:n}),this.$nextTick((()=>{this.bdMap.setMapStyleV2(o)}))}},showRoadCondition(e={}){let{isShowRoadCondition:t=!0,isShowMyRoad:n=!1,startPoint:o={lng:void 0,lat:void 0},endPoint:i={lng:void 0,lat:void 0},customObj:r={},clearRoadSectionType:a=""}=e,s=[],l=this;if(t)if(n){const t=new BMapGL.Point(o.lng,o.lat),n=new BMapGL.Point(i.lng,i.lat);var c=t=>{if(p.getStatus()==BMAP_STATUS_SUCCESS){var n=t.getPlan(0);s=l.makePointsArr(n._lines),this.sectionObj={duration:n.getDuration(!0),distance:n.getDistance(!0),pointsArr:s,params:e},this.$nextTick((()=>{this.bdMap.removeOverlay(t._end.marker),this.bdMap.removeOverlay(t._start.marker)})),l.drawPolyline({pointsArr:s,customObj:{...r,pointsArr:s},stroke:{strokeStyle:"solid",strokeColor:"#fff",strokeWeight:9,strokeOpacity:0},isRightDelete:!1,isViewport:!1})}},p=new BMapGL.DrivingRouteLine(this.bdMap,{renderOptions:{map:this.bdMap,autoViewport:!1,enableDragging:!1,lineLayerStyle:{strokeTextureUrl:null,showTraffic:!0}},onSearchComplete:c,onPolylinesSet:()=>{this.$emit("return-sectionObj",this.sectionObj)}});p.search(t,n),this.roadCondition.push(p)}else this.bdMap.setTrafficOff(),this.$nextTick((()=>{this.bdMap.setTrafficOn()}));else this.$nextTick((()=>{this.clearRoadSection(a)}))},makePointsArr(e){return e.flatMap((e=>e.points))},clearRoadSection(e=""){const{bdMap:t,roadCondition:n}=this;function o(e,t){return t===e||""===t}o("traffic",e)&&t.setTrafficOff(),o("roadCondition",e)&&n.forEach((e=>e.clearResults()))},drawMarker(e={}){let{obj:t,myIcon:n,customObj:o,isReturn:i=!1,isShowInfo:r=!1,isFloatShadow:a=!0,key:s,isResetCenterZoom:l=!0,isResetMakeIcon:c=!1,myChooseIcon:p,offsetX:u=0,offsetY:d=0,isLabelShow:f=!1,labelsetX:m=0,labelsetY:h=0,labelText:v,labelStyle:g,html:y,newZoom:b=17}=e,w=new BMapGL.Point(t.lng,t.lat),x=new BMapGL.Marker(w,{icon:n||null,enableDragging:!1});if(x.setZIndex(1),f){let e=new BMapGL.Label(v,{offset:new BMapGL.Size(m,h)});g&&e.setStyle(g),x.setLabel(e)}x.customObj=o,this.bdMap.addOverlay(x);const M=e=>{if(l&&this.setMapCenterAndZoom({lng:e.target.customObj.longitude,lat:e.target.customObj.latitude,zoom:b}),c){let e=new BMapGL.Marker(w,{icon:p||null});e.customObj={...o,isChoose:!0},this.removeOverlay({callback:e=>e.customObj?.isChoose}),e.setZIndex(2),this.bdMap.addOverlay(e),e.addEventListener("click",(e=>{this.$emit("showMarkerDetail",e.target.customObj)}))}this.$emit("showMarkerDetail",e.target.customObj)};return x.addEventListener("click",M),r&&(x.addEventListener("mouseover",(e=>{console.log(e,"e"),this.isOpenInfoWindow({flag:!0,html:y||e.target.customObj[s],offsetX:u,offsetY:d,marker:w,isFloatShadow:a})})),x.addEventListener("mouseout",(()=>{this.isOpenInfoWindow({flag:!1})}))),i?x:null},drawPolyline(e={}){let{pointsArr:t=[],customObj:n={},stroke:o={strokeStyle:"solid",strokeColor:"#5298fe",strokeWeight:9,strokeOpacity:1},isRightDelete:i=!1,isViewport:r=!0}=e,a=t.map((e=>new BMapGL.Point(e.lng,e.lat))),s=new BMapGL.Polyline(a,o);s.customObj=n,this.bdMap.addOverlay(s),r&&this.bdMap.setViewport(t),s.addEventListener("click",(e=>{console.log("点击了",e),this.$emit("showPolylineDetail",e.target.customObj),e.domEvent.stopPropagation()})),i&&s.addEventListener("rightclick",(e=>{let t=[{text:"删除",callback:()=>{this.bdMap.removeOverlay(s),this.bdMap.removeContextMenu(this.rightMenu),s.removeEventListener("rightclick")}}];this.addRightMenu(t)}))},drawPolygon(e={}){console.log(e,"百度地图DrawPolygon");let{pointArr:t=[],config:n={zIndex:10,fillOpacity:.8,strokeStyle:"solid",strokeColor:"#5298fe",strokeWeight:6,strokeOpacity:1},customObj:o,isRightDelete:i=!1}=e,r=t.map((e=>new BMapGL.Point(e.lng,e.lat)));var a=new BMapGL.Polygon(r,n);a.customObj=o,this.bdMap.addOverlay(a),this.bdMap.setViewport(t),a.addEventListener("click",(e=>{console.log("点击了面",e),this.$emit("showPolygonDetail",e.target.customObj)})),i&&a.addEventListener("rightclick",(e=>{let t=[{text:"删除",callback:()=>{this.bdMap.removeOverlay(a),this.bdMap.removeContextMenu(this.rightMenu),a.removeEventListener("rightclick")}}];this.addRightMenu(t)}))},isOpenInfoWindow(e={}){let{flag:t,html:n,offsetX:o=0,offsetY:i=0,marker:r,isFloatShadow:a=!0}=e;if(t){var s=new BMapGL.InfoWindow(n,{offset:new BMapGL.Size(o,i)});a||(this.bdMap.getPanes().floatShadow.style.display="none"),this.bdMap.openInfoWindow(s,r)}else this.bdMap.closeInfoWindow()},getIcon(e={}){let{url:t="/img/endPoint.png",width:n=25,height:o=40,offsetW:i=0,offsetH:r=0}=e;return new BMapGL.Icon(t,new BMapGL.Size(n,o),{anchor:new BMapGL.Size(n/2,o+2),imageOffset:new BMapGL.Size(i,r)})},removeOverlay(e={}){console.log(e,"百度地图RemoveOverlay");let{key:t,value:n,callback:o=(()=>!1)}=e,i=this.bdMap.getOverlays();const r=i.filter((e=>t?e.customObj[t]===n:o(e)));r.length>0&&r.forEach((e=>{this.bdMap.removeOverlay(e)}))},setMapCenterAndZoom(e={}){let{lat:t,lng:n,zoom:o=16}=e;this.bdMap.centerAndZoom(new BMapGL.Point(n,t),o)},setViewport(e){this.bdMap.setViewport(e)},addRightMenu(e=[]){this.rightMenu=new BMapGL.ContextMenu;for(var t=0;t<e.length;t++)this.rightMenu.addItem(new BMapGL.MenuItem(e[t].text,e[t].callback,100));this.bdMap.addContextMenu(this.rightMenu)},getMapViewport(){let e=this.bdMap.getBounds(),t=this.bdMap.getZoom(),n=e.getSouthWest(),o=e.getNorthEast();return{WS:n,WN:new BMapGL.Point(n.lng,o.lat),EN:o,ES:new BMapGL.Point(o.lng,n.lat),zoom:t}},mapChange(){this.bdMap.addEventListener("zoomend",(e=>{this.viewport=this.getMapViewport(),this.$emit("mapChange",this.viewport)})),this.bdMap.addEventListener("dragend",(e=>{this.viewport=this.getMapViewport(),this.$emit("mapChange",this.viewport)}))},initShapeLayer(e={}){this.$refs.bdMapVGl.initShapeLayer(e)}},created(){},mounted(){this.initMap(),this.mapChange()},destroyed(){}},E=P,T=l(E,w,x,!1,null,"2a2834b2",null),B=T.exports,_=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"map-container"}})},D=[],A={name:"tdMap",components:{},mixins:[],props:{},computed:{},watch:{},filters:{},data(){return{}},methods:{initMap(){var e="30409d5a7eac777300f6af8fad68fcf7",t="https://t{s}.tianditu.gov.cn/",n=["0","1","2","3","4","5","6","7"],o=new Cesium.Map("map-container",{shouldAnimate:!0,selectionIndicator:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,showRenderLoopErrors:!1,shadows:!1});o.scene.fxaa=!0,o.scene.postProcessStages.fxaa.enabled=!1,o.scene.globe.showGroundAtmosphere=!0,o.scene.screenSpaceCameraController.constrainedPitch=Cesium.Math.toRadians(-20),o.scene.screenSpaceCameraController.autoResetHeadingPitch=!1,o.scene.screenSpaceCameraController.inertiaZoom=.5,o.scene.screenSpaceCameraController.minimumZoomDistance=50,o.scene.screenSpaceCameraController.maximumZoomDistance=2e7,o.scene.screenSpaceCameraController.zoomEventTypes=[Cesium.CameraEventType.RIGHT_DRAG,Cesium.CameraEventType.WHEEL,Cesium.CameraEventType.PINCH],o.scene.screenSpaceCameraController.tiltEventTypes=[Cesium.CameraEventType.MIDDLE_DRAG,Cesium.CameraEventType.PINCH,{eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.CTRL},{eventType:Cesium.CameraEventType.RIGHT_DRAG,modifier:Cesium.KeyboardEventModifier.CTRL}],o.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);var i=new Cesium.UrlTemplateImageryProvider({url:t+"DataServer?T=img_w&x={x}&y={y}&l={z}&tk="+e,subdomains:n,tilingScheme:new Cesium.WebMercatorTilingScheme,maximumLevel:18});o.imageryLayers.addImageryProvider(i);var r=new Cesium.UrlTemplateImageryProvider({url:t+"DataServer?T=ibo_w&x={x}&y={y}&l={z}&tk="+e,subdomains:n,tilingScheme:new Cesium.WebMercatorTilingScheme,maximumLevel:10});o.imageryLayers.addImageryProvider(r);for(var a=new Array,s=0;s<n.length;s++){var l=t.replace("{s}",n[s])+"mapservice/swdx?T=elv_c&tk="+e;a.push(l)}var c=new Cesium.GeoTerrainProvider({urls:a});o.terrainProvider=c,o.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(103.84,31.15,1785e4),orientation:{heading:Cesium.Math.toRadians(348.4202942851978),pitch:Cesium.Math.toRadians(-89.74026687972041),roll:Cesium.Math.toRadians(0)},complete:function(){}});var p=new Cesium.GeoWTFS({viewer:o,subdomains:n,metadata:{boundBox:{minX:-180,minY:-90,maxX:180,maxY:90},minLevel:1,maxLevel:20},depthTestOptimization:!0,dTOElevation:15e3,dTOPitch:Cesium.Math.toRadians(-70),aotuCollide:!0,collisionPadding:[5,10,8,5],serverFirstStyle:!0,labelGraphics:{font:"28px sans-serif",fontSize:28,fillColor:Cesium.Color.WHITE,scale:.5,outlineColor:Cesium.Color.BLACK,outlineWidth:2,style:Cesium.LabelStyle.FILL_AND_OUTLINE,showBackground:!1,backgroundColor:Cesium.Color.RED,backgroundPadding:new Cesium.Cartesian2(10,10),horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.TOP,eyeOffset:Cesium.Cartesian3.ZERO,pixelOffset:new Cesium.Cartesian2(5,5),disableDepthTestDistance:void 0},billboardGraphics:{horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.CENTER,eyeOffset:Cesium.Cartesian3.ZERO,pixelOffset:Cesium.Cartesian2.ZERO,alignedAxis:Cesium.Cartesian3.ZERO,color:Cesium.Color.WHITE,rotation:0,scale:1,width:18,height:18,disableDepthTestDistance:void 0}});p.getTileUrl=function(){return t+"mapservice/GetTiles?lxys={z},{x},{y}&tk="+e},p.getIcoUrl=function(){return t+"mapservice/GetIcon?id={id}&tk="+e},p.initTDT([{x:6,y:1,level:2,boundBox:{minX:90,minY:0,maxX:135,maxY:45}},{x:7,y:1,level:2,boundBox:{minX:135,minY:0,maxX:180,maxY:45}},{x:6,y:0,level:2,boundBox:{minX:90,minY:45,maxX:135,maxY:90}},{x:7,y:0,level:2,boundBox:{minX:135,minY:45,maxX:180,maxY:90}},{x:5,y:1,level:2,boundBox:{minX:45,minY:0,maxX:90,maxY:45}},{x:4,y:1,level:2,boundBox:{minX:0,minY:0,maxX:45,maxY:45}},{x:5,y:0,level:2,boundBox:{minX:45,minY:45,maxX:90,maxY:90}},{x:4,y:0,level:2,boundBox:{minX:0,minY:45,maxX:45,maxY:90}},{x:6,y:2,level:2,boundBox:{minX:90,minY:-45,maxX:135,maxY:0}},{x:6,y:3,level:2,boundBox:{minX:90,minY:-90,maxX:135,maxY:-45}},{x:7,y:2,level:2,boundBox:{minX:135,minY:-45,maxX:180,maxY:0}},{x:5,y:2,level:2,boundBox:{minX:45,minY:-45,maxX:90,maxY:0}},{x:4,y:2,level:2,boundBox:{minX:0,minY:-45,maxX:45,maxY:0}},{x:3,y:1,level:2,boundBox:{minX:-45,minY:0,maxX:0,maxY:45}},{x:3,y:0,level:2,boundBox:{minX:-45,minY:45,maxX:0,maxY:90}},{x:2,y:0,level:2,boundBox:{minX:-90,minY:45,maxX:-45,maxY:90}},{x:0,y:1,level:2,boundBox:{minX:-180,minY:0,maxX:-135,maxY:45}},{x:1,y:0,level:2,boundBox:{minX:-135,minY:45,maxX:-90,maxY:90}},{x:0,y:0,level:2,boundBox:{minX:-180,minY:45,maxX:-135,maxY:90}}])}},created(){},mounted(){this.initMap()},destroyed(){}},G=A,I=l(G,_,D,!1,null,"697f4992",null),R=I.exports,$=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"map-container"}})},X=[],Y={name:"leafletMap",components:{},mixins:[],props:{},computed:{},watch:{},filters:{},data(){return{}},methods:{initMap(){var e=L.map("map-container").setView([83.53420759615909,246.38058554922884],13);L.tileLayer("http://api0.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&udt=20231205&scale=1&ak=iTu42KR8ex0LKLEE7hilYsczAHKX2rKc",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(e),e.on("click",(function(e){console.log(e.latlng)}))}},created(){},mounted(){this.initMap()},destroyed(){}},z=Y,V=l(z,$,X,!1,null,"d739c7ec",null),W=V.exports,N={name:"mapComps",components:{aMap:b,bdMap:B,tdMap:R,leafletMap:W},mixins:[],props:{mapType:{type:String,default:"bdMap"},bdMapConfig:{type:Object,default:()=>({center:{lng:116.404,lat:39.915},zoom:12,style:{custom:"",styleId:void 0,styleJson:void 0}})},bdInfoWindowStyle:{"--popBg":"#ffffff","--imgDisplay":"block","--closeBtnColor":"#cccccc","--titleHeight":"auto"},aMapConfig:{type:Object,default:()=>({center:{lng:116.404,lat:39.915},zoom:12,pitch:5,rotation:90})},tdMapConfig:{type:Object,default:()=>({})},leafletMapConfig:{type:Object,default:()=>({})}},computed:{},watch:{},filters:{},data(){return{}},methods:{setMapCenterAndZoom(e){this.$refs[this.mapType].setMapCenterAndZoom(e)},drawMarker(e){this.$refs[this.mapType].drawMarker(e)},drawPolyline(e){this.$refs[this.mapType].drawPolyline(e)},drawPolygon(e){this.$refs[this.mapType].drawPolygon(e)},getIcon(e){return this.$refs[this.mapType].getIcon(e)},showMarkerDetail(e){this.$emit("showMarkerDetail",e)},showPolylineDetail(e){this.$emit("showPolylineDetail",e)},showPolygonDetail(e){this.$emit("showPolygonDetail",e)},removeOverlay(e){this.$refs[this.mapType].removeOverlay(e)},showRoadCondition(e){this.$refs[this.mapType].showRoadCondition(e)},clearRoadSection(){this.$refs[this.mapType].clearRoadSection()},getSectionObj(e){this.$emit("return-sectionObj",e)},setViewport(e){this.$refs[this.mapType].setViewport(e)},mapChange(e){this.$emit("mapChange",e)},initShapeLayer(e={}){this.$refs[this.mapType].initShapeLayer(e)}},created(){},mounted(){},destroyed(){}},Z=N,F=l(Z,d,f,!1,null,"9c28377c",null),H=F.exports,U=function(){var e=this,t=e._self._c;return e.dialogVisible?t("el-dialog",{directives:[{name:"dialog-out",rawName:"v-dialog-out"}],attrs:{width:"1300px","append-to-body":"",title:e.title,"close-on-click-modal":!1,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:e.hideDialog}},[t("div",{staticClass:"dialog-body"},[t("ul",{staticClass:"dialog-body-panel"},e._l(e.btnList,(function(n){return t("li",{key:n,class:["bmap-btn",`bmap-${n}`],style:{"background-position-y":e.activeBtn===n?"-52px":"0px"},on:{click:function(t){return e.handleDraw(n)}}})})),0),e.dialogVisible?t("div",{ref:"map",staticClass:"map",attrs:{id:"map-container"}}):e._e()]),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.hideDialog}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit()}}},[e._v("保存")])],1)]):e._e()},K=[];function J(e){return new Promise((function(t,n){try{console.log("BMap is defined:",void 0===BMapGL||BMapGL),t(BMapGL)}catch(o){window.init=function(){t(BMapGL)};let i=document.createElement("script");i.type="text/javascript",i.src=`https://api.map.baidu.com/api?v=1.0&type=webgl&ak=${e}&callback=init`,i.onerror=n,document.body.appendChild(i)}}))}function q(e){return J(e).then((e=>{let t=!1;try{t=BMapGLLib&&BMapGLLib.DrawingManager}catch(o){t=!1}if(t)console.log("BMapLib.DrawingManager is loaded!");else{console.log("BMapLib.DrawingManager loading!");let e=document.createElement("script");e.type="text/javascript",e.src=n.e(619).then(n.t.bind(n,6619,23)),document.body.appendChild(e);let t=document.createElement("link");t.rel="stylesheet",t.href=n.e(636).then(n.bind(n,8636)),document.body.appendChild(t)}return e}))}var Q={name:"bdGlDrawAreaDialog",components:{},props:{btnList:{type:Array,default:()=>["marker","polyline","rectangle","polygon","circle"]},mapConfig:{type:Object,default:()=>({lng:113.16,lat:40.9556,zoom:12,heading:10,tilt:19,styleId:""})},isCustomCenter:{type:Boolean,default:!1},mapCenter:{type:Object,default:()=>({lng:113.16,lat:40.9556})},styleOptions:{type:Object,default:()=>({strokeColor:"#43a8ff",fillColor:"#43a8ff",strokeWeight:3,strokeOpacity:1,fillOpacity:.2})},labelOptions:{type:Object,default:()=>({borderRadius:"2px",background:"#FFFBCC",border:"1px solid #E1E1E1",color:"#703A04",fontSize:"12px",letterSpacing:"0",padding:"5px"})}},dicts:[],data(){return{title:"绘制区域",map:null,BMapGL:null,dialogVisible:!1,activeBtn:"",markerObj:{e:void 0,point:void 0,address:void 0},polylineObj:{e:void 0,pointsArr:void 0},rectangleObj:{e:void 0,pointsArr:void 0},polygonObj:{e:void 0,pointsArr:void 0},circleObj:{e:void 0,center:void 0,radius:void 0}}},methods:{getMyPosition(){return new Promise(((e,t)=>{this.$nextTick((()=>{const n=new this.BMapGL.Geolocation;n.getCurrentPosition((n=>{n&&n.point?e(n.point):t({lat:void 0,lng:void 0})}))}))}))},initMap(){this.$nextTick((()=>{q("zUX8euZSyCodQ1jFaZRZxNgWo4uzLZw1").then((()=>{this.BMapGL=BMapGL,this.map=new this.BMapGL.Map("map-container");let e=this.getMyPosition();function t(e,t,n){return{lng:e?n.lng:t.lng,lat:e?n.lat:t.lat}}this.map.enableScrollWheelZoom(),this.map.setHeading(this.mapConfig.heading),this.map.setTilt(this.mapConfig.tilt),this.map.setMapStyleV2({styleId:this.mapConfig.styleId});const n=t(!this.isCustomCenter,e,this.mapConfig);this.map.centerAndZoom(new this.BMapGL.Point(n.lng,n.lat),this.mapConfig.zoom),this.echoMapPolygon()}))}))},echoMapPolygon(){if(this.polygonObj.pointsArr){let t=JSON.parse(this.polygonObj.pointsArr),n=t.map((e=>new BMapGL.Point(e.lng,e.lat)));var e=new BMapGL.Polygon(n,this.styleOptions);this.map.addOverlay(e),this.map.setViewport(t)}},handleDraw(e){this.clearLayers(),this.activeBtn=e;const t=new BMapGLLib.DrawingManager(this.map,{enableCalculate:!1,enableSorption:!0,sorptiondistance:20,circleOptions:this.styleOptions,polylineOptions:this.styleOptions,polygonOptions:this.styleOptions,rectangleOptions:this.styleOptions,labelOptions:this.labelOptions});if(t._isOpen&&t.getDrawingMode()===this.activeBtn?(t.close(),this.activeBtn):(t.setDrawingMode(this.activeBtn),t.open()),"marker"===this.activeBtn){let e=0;this.map.addEventListener("click",(n=>{e++,e>1||(t.close(),this.activeBtn)})),t.addEventListener("overlaycomplete",(e=>{const t=e.overlay;let n=t.getPosition();const o=new this.BMapGL.Geocoder;o.getLocation(n,(t=>{this.markerObj={e:e,point:n,address:t},console.log(this.markerObj,"点")}))}))}else"polyline"===this.activeBtn?t.addEventListener("overlaycomplete",(e=>{this.polylineObj={e:e,pointsArr:e.overlay.points.map((e=>e.latLng))},console.log(this.polylineObj,"折线")})):"rectangle"===this.activeBtn?t.addEventListener("overlaycomplete",(e=>{this.rectangleObj={e:e,pointsArr:e.overlay.getPath()},console.log(this.rectangleObj,"矩形")})):"polygon"===this.activeBtn?t.addEventListener("overlaycomplete",(e=>{this.polygonObj={e:e,pointsArr:e.overlay.getPath()},console.log(this.polygonObj,"多边形")})):"circle"===this.activeBtn&&t.addEventListener("overlaycomplete",(e=>{const t=e.overlay;this.circleObj={e:e,center:t.getCenter(),radius:t.getRadius()},console.log(this.circleObj,"圆")}))},clearLayers(){let e=this.map.getOverlays();e.forEach((e=>{this.map.removeOverlay(e)})),this.markerObj={e:void 0,point:void 0,address:void 0},this.polylineObj={e:void 0,pointsArr:void 0},this.rectangleObj={e:void 0,pointsArr:void 0},this.polygonObj={e:void 0,pointsArr:void 0},this.circleObj={e:void 0,center:void 0,radius:void 0}},showDialog(e){this.title=e.title,this.dialogVisible=!0,this.polygonObj.pointsArr=e.data;let t=this;this.$nextTick((()=>{t.initMap()}))},hideDialog(){this.activeBtn="",this.map=null,this.dialogVisible=!1},async handleSubmit(){console.log("点击保存");let e=this[`${this.activeBtn}Obj`];e.e?(console.log(e,"obj"),this.$emit("on-response",e),this.hideDialog()):this.$message({type:"error",message:"请先绘制图层再确定!"})},echoData(e){}},created(){},mounted(){}},ee=Q,te=l(ee,U,K,!1,null,"fe8dd0fe",null),ne=te.exports;const oe=[u,H,ne],ie=function(e){oe.forEach((t=>{e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&ie(window.Vue);var re={install:ie,...oe},ae=re}(),o}()}));
//# sourceMappingURL=bdgl-map-lib.umd.min.js.map