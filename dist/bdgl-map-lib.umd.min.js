(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["bdgl-map-lib"]=e():t["bdgl-map-lib"]=e()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var t={419:function(t,e,n){var o=n(6822),r=n(7716),i=TypeError;t.exports=function(t){if(o(t))return t;throw new i(r(t)+" is not a function")}},5852:function(t,e,n){var o=n(3489),r=String,i=TypeError;t.exports=function(t){if(o(t))return t;throw new i(r(t)+" is not an object")}},2672:function(t,e,n){var o=n(7282),r=n(3429),i=n(2843),a=function(t){return function(e,n,a){var s=o(e),l=i(s);if(0===l)return!t&&-1;var c,p=r(a,l);if(t&&n!==n){while(l>p)if(c=s[p++],c!==c)return!0}else for(;l>p;p++)if((t||p in s)&&s[p]===n)return t||p||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},5950:function(t,e,n){var o=n(2667),r=n(7829),i=TypeError,a=Object.getOwnPropertyDescriptor,s=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(r(t)&&!a(t,"length").writable)throw new i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},3515:function(t,e,n){var o=n(1671),r=o({}.toString),i=o("".slice);t.exports=function(t){return i(r(t),8,-1)}},6055:function(t,e,n){var o=n(6072),r=n(9814),i=n(3570),a=n(1152);t.exports=function(t,e,n){for(var s=r(e),l=a.f,c=i.f,p=0;p<s.length;p++){var u=s[p];o(t,u)||n&&o(n,u)||l(t,u,c(e,u))}}},2398:function(t,e,n){var o=n(2667),r=n(1152),i=n(7477);t.exports=o?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},7477:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},579:function(t,e,n){var o=n(6822),r=n(1152),i=n(3660),a=n(1328);t.exports=function(t,e,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:e;if(o(n)&&i(n,c,s),s.global)l?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(p){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},1328:function(t,e,n){var o=n(2750),r=Object.defineProperty;t.exports=function(t,e){try{r(o,t,{value:e,configurable:!0,writable:!0})}catch(n){o[t]=e}return e}},2667:function(t,e,n){var o=n(560);t.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8956:function(t,e,n){var o=n(2750),r=n(3489),i=o.document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},1756:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},7055:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4567:function(t,e,n){var o,r,i=n(2750),a=n(7055),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,p=c&&c.v8;p&&(o=p.split("."),r=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&a&&(o=a.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/),o&&(r=+o[1]))),t.exports=r},3108:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6071:function(t,e,n){var o=n(2750),r=n(3570).f,i=n(2398),a=n(579),s=n(1328),l=n(6055),c=n(3859);t.exports=function(t,e){var n,p,u,f,d,h,m=t.target,g=t.global,v=t.stat;if(p=g?o:v?o[m]||s(m,{}):o[m]&&o[m].prototype,p)for(u in e){if(d=e[u],t.dontCallGetSet?(h=r(p,u),f=h&&h.value):f=p[u],n=c(g?u:m+(v?".":"#")+u,t.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;l(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),a(p,u,d,t)}}},560:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},1693:function(t,e,n){var o=n(560);t.exports=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2486:function(t,e,n){var o=n(1693),r=Function.prototype.call;t.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},2565:function(t,e,n){var o=n(2667),r=n(6072),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=r(i,"name"),l=s&&"something"===function(){}.name,c=s&&(!o||o&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},1671:function(t,e,n){var o=n(1693),r=Function.prototype,i=r.call,a=o&&r.bind.bind(i,i);t.exports=o?a:function(t){return function(){return i.apply(t,arguments)}}},7522:function(t,e,n){var o=n(2750),r=n(6822),i=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(o[t]):o[t]&&o[t][e]}},7147:function(t,e,n){var o=n(419),r=n(636);t.exports=function(t,e){var n=t[e];return r(n)?void 0:o(n)}},2750:function(t,e,n){var o=function(t){return t&&t.Math===Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6072:function(t,e,n){var o=n(1671),r=n(310),i=o({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(r(t),e)}},8646:function(t){t.exports={}},4468:function(t,e,n){var o=n(2667),r=n(560),i=n(8956);t.exports=!o&&!r((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1286:function(t,e,n){var o=n(1671),r=n(560),i=n(3515),a=Object,s=o("".split);t.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?s(t,""):a(t)}:a},4459:function(t,e,n){var o=n(1671),r=n(6822),i=n(5404),a=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},1528:function(t,e,n){var o,r,i,a=n(2891),s=n(2750),l=n(3489),c=n(2398),p=n(6072),u=n(5404),f=n(8310),d=n(8646),h="Object already initialized",m=s.TypeError,g=s.WeakMap,v=function(t){return i(t)?r(t):o(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}};if(a||u.state){var b=u.state||(u.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,o=function(t,e){if(b.has(t))throw new m(h);return e.facade=t,b.set(t,e),e},r=function(t){return b.get(t)||{}},i=function(t){return b.has(t)}}else{var w=f("state");d[w]=!0,o=function(t,e){if(p(t,w))throw new m(h);return e.facade=t,c(t,w,e),e},r=function(t){return p(t,w)?t[w]:{}},i=function(t){return p(t,w)}}t.exports={set:o,get:r,has:i,enforce:v,getterFor:y}},7829:function(t,e,n){var o=n(3515);t.exports=Array.isArray||function(t){return"Array"===o(t)}},6822:function(t){var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},3859:function(t,e,n){var o=n(560),r=n(6822),i=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n===p||n!==c&&(r(e)?o(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",p=a.POLYFILL="P";t.exports=a},636:function(t){t.exports=function(t){return null===t||void 0===t}},3489:function(t,e,n){var o=n(6822);t.exports=function(t){return"object"==typeof t?null!==t:o(t)}},252:function(t){t.exports=!1},7646:function(t,e,n){var o=n(7522),r=n(6822),i=n(7948),a=n(6043),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return r(e)&&i(e.prototype,s(t))}},2843:function(t,e,n){var o=n(7157);t.exports=function(t){return o(t.length)}},3660:function(t,e,n){var o=n(1671),r=n(560),i=n(6822),a=n(6072),s=n(2667),l=n(2565).CONFIGURABLE,c=n(4459),p=n(1528),u=p.enforce,f=p.get,d=String,h=Object.defineProperty,m=o("".slice),g=o("".replace),v=o([].join),y=s&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===m(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||l&&t.name!==e)&&(s?h(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&a(n,"arity")&&t.length!==n.arity&&h(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var o=u(t);return a(o,"source")||(o.source=v(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return i(this)&&f(this).source||c(this)}),"toString")},868:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var o=+t;return(o>0?n:e)(o)}},1152:function(t,e,n){var o=n(2667),r=n(4468),i=n(3145),a=n(5852),s=n(9242),l=TypeError,c=Object.defineProperty,p=Object.getOwnPropertyDescriptor,u="enumerable",f="configurable",d="writable";e.f=o?i?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var o=p(t,e);o&&o[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:o[f],enumerable:u in n?n[u]:o[u],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),r)try{return c(t,e,n)}catch(o){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},3570:function(t,e,n){var o=n(2667),r=n(2486),i=n(8658),a=n(7477),s=n(7282),l=n(9242),c=n(6072),p=n(4468),u=Object.getOwnPropertyDescriptor;e.f=o?u:function(t,e){if(t=s(t),e=l(e),p)try{return u(t,e)}catch(n){}if(c(t,e))return a(!r(i.f,t,e),t[e])}},5719:function(t,e,n){var o=n(7401),r=n(3108),i=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},3694:function(t,e){e.f=Object.getOwnPropertySymbols},7948:function(t,e,n){var o=n(1671);t.exports=o({}.isPrototypeOf)},7401:function(t,e,n){var o=n(1671),r=n(6072),i=n(7282),a=n(2672).indexOf,s=n(8646),l=o([].push);t.exports=function(t,e){var n,o=i(t),c=0,p=[];for(n in o)!r(s,n)&&r(o,n)&&l(p,n);while(e.length>c)r(o,n=e[c++])&&(~a(p,n)||l(p,n));return p}},8658:function(t,e){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},4481:function(t,e,n){var o=n(2486),r=n(6822),i=n(3489),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&r(n=t.toString)&&!i(s=o(n,t)))return s;if(r(n=t.valueOf)&&!i(s=o(n,t)))return s;if("string"!==e&&r(n=t.toString)&&!i(s=o(n,t)))return s;throw new a("Can't convert object to primitive value")}},9814:function(t,e,n){var o=n(7522),r=n(1671),i=n(5719),a=n(3694),s=n(5852),l=r([].concat);t.exports=o("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=a.f;return n?l(e,n(t)):e}},8939:function(t,e,n){var o=n(636),r=TypeError;t.exports=function(t){if(o(t))throw new r("Can't call method on "+t);return t}},8310:function(t,e,n){var o=n(1300),r=n(2599),i=o("keys");t.exports=function(t){return i[t]||(i[t]=r(t))}},5404:function(t,e,n){var o=n(252),r=n(2750),i=n(1328),a="__core-js_shared__",s=t.exports=r[a]||i(a,{});(s.versions||(s.versions=[])).push({version:"3.37.1",mode:o?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1300:function(t,e,n){var o=n(5404);t.exports=function(t,e){return o[t]||(o[t]=e||{})}},9474:function(t,e,n){var o=n(4567),r=n(560),i=n(2750),a=i.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},3429:function(t,e,n){var o=n(3790),r=Math.max,i=Math.min;t.exports=function(t,e){var n=o(t);return n<0?r(n+e,0):i(n,e)}},7282:function(t,e,n){var o=n(1286),r=n(8939);t.exports=function(t){return o(r(t))}},3790:function(t,e,n){var o=n(868);t.exports=function(t){var e=+t;return e!==e||0===e?0:o(e)}},7157:function(t,e,n){var o=n(3790),r=Math.min;t.exports=function(t){var e=o(t);return e>0?r(e,9007199254740991):0}},310:function(t,e,n){var o=n(8939),r=Object;t.exports=function(t){return r(o(t))}},8864:function(t,e,n){var o=n(2486),r=n(3489),i=n(7646),a=n(7147),s=n(4481),l=n(6772),c=TypeError,p=l("toPrimitive");t.exports=function(t,e){if(!r(t)||i(t))return t;var n,l=a(t,p);if(l){if(void 0===e&&(e="default"),n=o(l,t,e),!r(n)||i(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},9242:function(t,e,n){var o=n(8864),r=n(7646);t.exports=function(t){var e=o(t,"string");return r(e)?e:e+""}},7716:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},2599:function(t,e,n){var o=n(1671),r=0,i=Math.random(),a=o(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++r+i,36)}},6043:function(t,e,n){var o=n(9474);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3145:function(t,e,n){var o=n(2667),r=n(560);t.exports=o&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2891:function(t,e,n){var o=n(2750),r=n(6822),i=o.WeakMap;t.exports=r(i)&&/native code/.test(String(i))},6772:function(t,e,n){var o=n(2750),r=n(1300),i=n(6072),a=n(2599),s=n(9474),l=n(6043),c=o.Symbol,p=r("wks"),u=l?c["for"]||c:c&&c.withoutSetter||a;t.exports=function(t){return i(p,t)||(p[t]=s&&i(c,t)?c[t]:u("Symbol."+t)),p[t]}},381:function(t,e,n){var o=n(6071),r=n(310),i=n(2843),a=n(5950),s=n(1756),l=n(560),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),p=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},u=c||!p();o({target:"Array",proto:!0,arity:1,forced:u},{push:function(t){var e=r(this),n=i(e),o=arguments.length;s(n+o);for(var l=0;l<o;l++)e[n]=arguments[l],n++;return a(e,n),n}})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&r&&o;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return o[t]}}));return a["default"]=function(){return o},n.d(i,a),i}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,o){return n.f[o](t,e),e}),[]))}}(),function(){n.u=function(t){return"bdgl-map-lib.umd.min."+t+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+".60d630a1.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="bdgl-map-lib:";n.l=function(o,r,i,a){if(t[o])t[o].push(r);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),p=0;p<c.length;p++){var u=c[p];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==e+i){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+i),s.src=o),t[o]=[r];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(d);var r=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(t){return t(n)})),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var t=function(t,e,o,r,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc);var s=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var o=n&&n.type,s=n&&n.target&&n.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+o+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=s,a.parentNode&&a.parentNode.removeChild(a),i(l)}};return a.onerror=a.onload=s,a.href=e,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},e=function(t,e){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===t||i===e))return r}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){r=a[o],i=r.getAttribute("data-href");if(i===t||i===e)return r}},o=function(o){return new Promise((function(r,i){var a=n.miniCssF(o),s=n.p+a;if(e(a,s))return r();t(o,s,null,r,i)}))},r={17:0};n.f.miniCss=function(t,e){var n={37:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=o(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}}(),function(){var t={17:0};n.f.j=function(e,o){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=t[e]=[n,o]}));o.push(r[2]=i);var a=n.p+n.u(e),s=new Error,l=function(o){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}};n.l(a,l,"chunk-"+e,e)}};var e=function(e,o){var r,i,a=o[0],s=o[1],l=o[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(e&&e(o);c<a.length;c++)i=a[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0},o=("undefined"!==typeof self?self:this)["webpackChunkbdgl_map_lib"]=("undefined"!==typeof self?self:this)["webpackChunkbdgl_map_lib"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o={};if(n.r(o),n.d(o,{default:function(){return N}}),"undefined"!==typeof window){var r=window.document.currentScript,i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"a"},[t._v(" main "),e("div",{staticClass:"b"},[t._v("demo")])])}],l={name:"demo-main",components:{},mixins:[],props:{},computed:{},watch:{},filters:{},data(){return{}},methods:{},created(){},mounted(){},destroyed(){}},c=l;function p(t,e,n,o,r,i,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var p=c.render;c.render=function(t,e){return l.call(e),p(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}var u=p(c,a,s,!1,null,"05ab3702",null),f=u.exports;f.install=t=>{t.component(f.name,f)};var d=f,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-comps"},["bdMap"===t.mapType?e("bdMap",{ref:"bdMap",attrs:{mapConfig:t.bdMapConfig,infoWindowStyle:t.bdInfoWindowStyle},on:{showMarkerDetail:t.showMarkerDetail,showPolylineDetail:t.showPolylineDetail,showPolygonDetail:t.showPolygonDetail,showCustomOverlayDetail:t.showCustomOverlayDetail,"return-sectionObj":t.getSectionObj,mapChange:t.mapChange,mapClick:t.mapClick,returnCustomOverlay:t.getCustomOverlay}}):t._e()],1)},m=[],g=function(){var t=this,e=t._self._c;return e("div",{style:t.mapStyle,attrs:{id:"map-container"}},[e("bdMapVGl",{ref:"bdMapVGl",attrs:{bdMap:t.bdMap}})],1)},v=[],y=(n(381),function(){var t=this,e=t._self._c;return e("div")}),b=[],w={name:"bdMapVGl",components:{},mixins:[],props:{bdMap:{type:Object,default(){return{}}}},computed:{},watch:{},filters:{},data(){return{}},methods:{initShapeLayer(t={}){let{color:e="rgba(0, 214, 236, 0.8)",enablePicked:n=!0,selectedIndex:o=-1,selectedColor:r="#ee1111",autoSelect:i=!0,data:a=[],onclick:s=()=>{}}=t;var l=new mapvgl.View({map:this.bdMap}),c=new mapvgl.ShapeLayer(t);l.addLayer(c),this.bdMap.setDefaultCursor("default")}}},M=w,O=p(M,y,b,!1,null,null,null),C=O.exports,S={name:"bdMap",components:{bdMapVGl:C},mixins:[],props:{infoWindowStyle:{type:Object,default:()=>({"--popBg":"#ffffff","--imgDisplay":"block","--closeBtnColor":"#cccccc","--titleHeight":"auto"})}},computed:{mapConfig(){return this.$attrs.mapConfig},mapStyle(){return this.infoWindowStyle}},watch:{},filters:{},data(){return{bdMap:null,sectionObj:{duration:void 0,distance:void 0,pointsArr:[]},rightMenu:void 0,viewport:{WS:void 0,WN:void 0,EN:void 0,ES:void 0,zoom:void 0},roadCondition:[]}},methods:{initMap(){if(console.log(BMapGL,"BMapGL"),this.bdMap=new BMapGL.Map("map-container"),this.bdMap.centerAndZoom(new BMapGL.Point(this.mapConfig.center.lng,this.mapConfig.center.lat),this.mapConfig.zoom),this.bdMap.enableScrollWheelZoom(!0),this.mapConfig.style?.custom){const{custom:t,styleJson:e,styleId:n}=this.mapConfig.style;let o;"styleJson"===t?o={styleJson:e}:"styleId"===t&&(o={styleId:n}),this.$nextTick((()=>{this.bdMap.setMapStyleV2(o)}))}this.bdMap.addEventListener("tilesloaded",(()=>{}))},showRoadCondition(t={}){let{isShowRoadCondition:e=!0,isShowMyRoad:n=!1,startPoint:o={lng:void 0,lat:void 0},endPoint:r={lng:void 0,lat:void 0},customObj:i={},clearRoadSectionType:a=""}=t,s=[],l=this;if(e)if(n){const e=new BMapGL.Point(o.lng,o.lat),n=new BMapGL.Point(r.lng,r.lat);var c=e=>{if(p.getStatus()==BMAP_STATUS_SUCCESS){var n=e.getPlan(0);s=l.flattenArr(n._lines),this.sectionObj={duration:n.getDuration(!0),distance:n.getDistance(!0),pointsArr:s,params:t},this.$nextTick((()=>{this.bdMap.removeOverlay(e._end.marker),this.bdMap.removeOverlay(e._start.marker)})),l.drawPolyline({pointsArr:s,customObj:{...i,pointsArr:s},stroke:{strokeStyle:"solid",strokeColor:"#fff",strokeWeight:9,strokeOpacity:0},isRightDelete:!1,isViewport:!1})}},p=new BMapGL.DrivingRouteLine(this.bdMap,{renderOptions:{map:this.bdMap,autoViewport:!1,enableDragging:!1,lineLayerStyle:{strokeTextureUrl:null,showTraffic:!0}},onSearchComplete:c,onPolylinesSet:()=>{this.$emit("return-sectionObj",this.sectionObj)}});p.search(e,n),this.roadCondition.push(p)}else this.bdMap.setTrafficOff(),this.$nextTick((()=>{this.bdMap.setTrafficOn()}));else this.$nextTick((()=>{this.clearRoadSection(a)}))},flattenArr(t){return t.flatMap((t=>t.points))},clearRoadSection(t=""){const{bdMap:e,roadCondition:n}=this;function o(t,e){return e===t||""===e}o("traffic",t)&&e.setTrafficOff(),o("roadCondition",t)&&n.forEach((t=>t.clearResults()))},drawMarker(t={}){let{obj:e,myIcon:n,customObj:o,isReturn:r=!1,isShowInfo:i=!1,isFloatShadow:a=!0,key:s,isResetCenter:l=!0,isResetZoom:c=!1,isResetMakeIcon:p=!1,myChooseIcon:u,offsetX:f=0,offsetY:d=0,isLabelShow:h=!1,labelsetX:m=0,labelsetY:g=0,labelText:v,labelStyle:y,html:b,newZoom:w=17,className:M}=t,O=new BMapGL.Point(e.lng,e.lat),C=new BMapGL.Marker(O,{icon:n||null,enableDragging:!1});if(C.setZIndex(1),h){let t=new BMapGL.Label(v,{offset:new BMapGL.Size(m,g)});y&&t.setStyle(y),C.setLabel(t)}C.customObj=o,this.bdMap.addOverlay(C);const S=t=>{if(l&&this.setMapCenter({lng:t.target.customObj.longitude,lat:t.target.customObj.latitude}),c&&this.setMapZoom({zoom:w}),p){let t=new BMapGL.Marker(O,{icon:u||null});t.customObj={...o,isChoose:!0},this.removeOverlay({callback:t=>t.customObj?.isChoose}),t.setZIndex(2),this.bdMap.addOverlay(t),t.addEventListener("click",(t=>{this.$emit("showMarkerDetail",t.target.customObj)}))}this.$emit("showMarkerDetail",t.target.customObj)};return C.addEventListener("click",S),i&&(C.addEventListener("mouseover",(t=>{console.log(t,"e"),this.isOpenInfoWindow({flag:!0,html:b||t.target.customObj[s],offsetX:f,offsetY:d,marker:O,isFloatShadow:a})})),C.addEventListener("mouseout",(()=>{this.isOpenInfoWindow({flag:!1})})),M&&(setTimeout((()=>{let t=M.split(",");t.forEach((t=>C.domElement.classList.add(t)))}),500),this.$forceUpdate())),r?C:null},drawPolyline(t={}){let{pointsArr:e=[],customObj:n={},stroke:o={strokeStyle:"solid",strokeColor:"#5298fe",strokeWeight:9,strokeOpacity:1,zIndex:1e3},isRightDelete:r=!1,isViewport:i=!0}=t,a=e.map((t=>new BMapGL.Point(t.lng,t.lat))),s=new BMapGL.Polyline(a,o);s.customObj=n,this.bdMap.addOverlay(s),i&&this.bdMap.setViewport(e),s.addEventListener("click",(t=>{console.log("点击了",t),this.$emit("showPolylineDetail",t.target.customObj),t.domEvent.stopPropagation()})),r&&s.addEventListener("rightclick",(t=>{let e=[{text:"删除",callback:()=>{this.bdMap.removeOverlay(s),this.bdMap.removeContextMenu(this.rightMenu),s.removeEventListener("rightclick")}}];this.addRightMenu(e)}))},drawPolygon(t={}){console.log(t,"百度地图DrawPolygon");let{pointArr:e=[],config:n={zIndex:10,fillOpacity:.8,strokeStyle:"solid",strokeColor:"#5298fe",strokeWeight:6,strokeOpacity:1},customObj:o,isRightDelete:r=!1}=t,i=e.map((t=>new BMapGL.Point(t.lng,t.lat)));var a=new BMapGL.Polygon(i,n);a.customObj=o,this.bdMap.addOverlay(a),this.bdMap.setViewport(e),a.addEventListener("click",(t=>{console.log("点击了面",t),this.$emit("showPolygonDetail",t.target.customObj)})),r&&a.addEventListener("rightclick",(t=>{let e=[{text:"删除",callback:()=>{this.bdMap.removeOverlay(a),this.bdMap.removeContextMenu(this.rightMenu),a.removeEventListener("rightclick")}}];this.addRightMenu(e)}))},drawCustomOverlay(t={}){let{createDOM:e=()=>"dom",point:n={lng:void 0,lat:void 0},customObj:o,customOverlayConfig:r={offsetX:-10,offsetY:-10,MinZoom:4,MaxZoom:12,enableMassClear:!0,enableDraggingMap:!0},isShowInfo:i=!1,infoWindowConfig:a={html:"",key:"",offsetX:0,offsetY:0,isFloatShadow:!1},isResetCenter:s=!0,isResetZoom:l=!1,newZoom:c=10}=t;const p={offsetX:0,offsetY:0,enableMassClear:!0,enableDraggingMap:!0},u=Object.keys(r).length>0?r:p,f=new BMapGL.CustomOverlay(e,{point:new BMapGL.Point(n.lng,n.lat),properties:{customObj:o},...u});this.bdMap.addOverlay(f),this.$emit("returnCustomOverlay",f);const d=t=>{console.log("点击了自定义覆盖物",t.target.properties),s&&this.setMapCenter({lng:t.target.point.lng,lat:t.target.point.lat}),l&&this.setMapZoom({zoom:c}),this.$emit("showCustomOverlayDetail",t.target)};f.addEventListener("click",d),i&&(f.addEventListener("mouseover",(t=>{let e=new BMapGL.Point(n.lng,n.lat);this.isOpenInfoWindow({flag:!0,html:a.html?a.html:t.target.properties[a.key],offsetX:a.offsetX,offsetY:a.offsetY,marker:e,isFloatShadow:a.isFloatShadow})})),f.addEventListener("mouseout",(()=>{this.isOpenInfoWindow({flag:!1})})))},isOpenInfoWindow(t={}){let{flag:e,html:n,offsetX:o=0,offsetY:r=0,marker:i,isFloatShadow:a=!0}=t;if(e){var s=new BMapGL.InfoWindow(n,{offset:new BMapGL.Size(o,r)});a||(this.bdMap.getPanes().floatShadow.style.display="none"),this.bdMap.openInfoWindow(s,i)}else this.bdMap.closeInfoWindow()},getIcon(t={}){let{url:e="/img/endPoint.png",width:n=25,height:o=40,offsetW:r=0,offsetH:i=0}=t;return new BMapGL.Icon(e,new BMapGL.Size(n,o),{anchor:new BMapGL.Size(n/2,o+2),imageOffset:new BMapGL.Size(r,i)})},removeOverlay(t={}){console.log(t,"百度地图RemoveOverlay");let{key:e,value:n,callback:o=()=>!1}=t,r=this.bdMap.getOverlays();const i=r.filter((t=>e?t.customObj[e]===n:o(t)));i.length>0&&i.forEach((t=>{this.bdMap.removeOverlay(t)}))},setMapCenterAndZoom(t={}){let{lat:e,lng:n,zoom:o=16}=t;this.bdMap.centerAndZoom(new BMapGL.Point(n,e),o)},setMapCenter(t={}){let{lat:e,lng:n}=t;this.bdMap.setCenter(new BMapGL.Point(n,e))},setMapZoom(t={}){let{zoom:e}=t;this.bdMap.setZoom(e)},setViewport(t){this.bdMap.setViewport(t)},addRightMenu(t=[]){this.rightMenu=new BMapGL.ContextMenu;for(var e=0;e<t.length;e++)this.rightMenu.addItem(new BMapGL.MenuItem(t[e].text,t[e].callback,100));this.bdMap.addContextMenu(this.rightMenu)},getMapViewport(){let t=this.bdMap.getBounds(),e=this.bdMap.getZoom(),n=t.getSouthWest(),o=t.getNorthEast();return{WS:n,WN:new BMapGL.Point(n.lng,o.lat),EN:o,ES:new BMapGL.Point(o.lng,n.lat),zoom:e}},mapChange(){this.bdMap.addEventListener("zoomend",(t=>{this.viewport=this.getMapViewport(),this.$emit("mapChange",this.viewport)})),this.bdMap.addEventListener("dragend",(t=>{this.viewport=this.getMapViewport(),this.$emit("mapChange",this.viewport)})),this.bdMap.addEventListener("click",(t=>{this.bdMap.closeInfoWindow(),this.$emit("mapClick",t)}))},initShapeLayer(t={}){this.$refs.bdMapVGl.initShapeLayer(t)}},created(){},mounted(){this.initMap(),this.mapChange()},destroyed(){}},j=S,x=p(j,g,v,!1,null,"9d7de886",null),k=x.exports,L={name:"mapComps",components:{bdMap:k},mixins:[],props:{mapType:{type:String,default:"bdMap"},bdMapConfig:{type:Object,default:()=>({center:{lng:116.404,lat:39.915},zoom:12,style:{custom:"",styleId:void 0,styleJson:void 0}})},bdInfoWindowStyle:{"--popBg":"#ffffff","--imgDisplay":"block","--closeBtnColor":"#cccccc","--titleHeight":"auto"},aMapConfig:{type:Object,default:()=>({center:{lng:116.404,lat:39.915},zoom:12,pitch:5,rotation:90})},tdMapConfig:{type:Object,default:()=>({})},leafletMapConfig:{type:Object,default:()=>({})}},computed:{},watch:{},filters:{},data(){return{}},methods:{setMapCenterAndZoom(t){this.$refs[this.mapType].setMapCenterAndZoom(t)},setMapCenter(t){this.$refs[this.mapType].setMapCenter(t)},drawMarker(t){this.$refs[this.mapType].drawMarker(t)},drawPolyline(t){this.$refs[this.mapType].drawPolyline(t)},drawPolygon(t){this.$refs[this.mapType].drawPolygon(t)},drawCustomOverlay(t){this.$refs[this.mapType].drawCustomOverlay(t)},getCustomOverlay(t){this.$emit("returnCustomOverlay",t)},getIcon(t){return this.$refs[this.mapType].getIcon(t)},showMarkerDetail(t){this.$emit("showMarkerDetail",t)},showPolylineDetail(t){this.$emit("showPolylineDetail",t)},showPolygonDetail(t){this.$emit("showPolygonDetail",t)},showCustomOverlayDetail(t){this.$emit("showCustomOverlayDetail",t)},removeOverlay(t){this.$refs[this.mapType].removeOverlay(t)},showRoadCondition(t){this.$refs[this.mapType].showRoadCondition(t)},clearRoadSection(){this.$refs[this.mapType].clearRoadSection()},getSectionObj(t){this.$emit("return-sectionObj",t)},setViewport(t){this.$refs[this.mapType].setViewport(t)},mapChange(t){this.$emit("mapChange",t)},initShapeLayer(t={}){this.$refs[this.mapType].initShapeLayer(t)},mapClick(t){this.$emit("mapClick",t)}},created(){},mounted(){},destroyed(){}},P=L,E=p(P,h,m,!1,null,"80bd0c90",null),B=E.exports,_=function(){var t=this,e=t._self._c;return t.dialogVisible?e("el-dialog",{directives:[{name:"dialog-out",rawName:"v-dialog-out"}],attrs:{width:"1300px","append-to-body":"",title:t.title,"close-on-click-modal":!1,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e},close:t.hideDialog}},[e("div",{staticClass:"dialog-body"},[e("ul",{staticClass:"dialog-body-panel"},t._l(t.btnList,(function(n){return e("li",{key:n,class:["bmap-btn",`bmap-${n}`],style:{"background-position-y":t.activeBtn===n?"-52px":"0px"},on:{click:function(e){return t.handleDraw(n)}}})})),0),t.dialogVisible?e("div",{ref:"map",staticClass:"map",attrs:{id:"map-container"}}):t._e()]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.hideDialog}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v("保存")])],1)]):t._e()},D=[];function T(t){return new Promise((function(e,n){try{console.log("BMap is defined:",void 0===BMapGL||BMapGL),e(BMapGL)}catch(o){window.init=function(){e(BMapGL)};let r=document.createElement("script");r.type="text/javascript",r.src=`https://api.map.baidu.com/api?v=1.0&type=webgl&ak=${t}&callback=init`,r.onerror=n,document.body.appendChild(r)}}))}function G(t){return T(t).then((t=>{let e=!1;try{e=BMapGLLib&&BMapGLLib.DrawingManager}catch(o){e=!1}if(e)console.log("BMapLib.DrawingManager is loaded!");else{console.log("BMapLib.DrawingManager loading!");let t=document.createElement("script");t.type="text/javascript",t.src=n.e(381).then(n.t.bind(n,2762,23)),document.body.appendChild(t);let e=document.createElement("link");e.rel="stylesheet",e.href=n.e(37).then(n.bind(n,37)),document.body.appendChild(e)}return t}))}var $={name:"bdGlDrawAreaDialog",components:{},props:{btnList:{type:Array,default:()=>["marker","polyline","rectangle","polygon","circle"]},mapConfig:{type:Object,default:()=>({lng:113.16,lat:40.9556,zoom:12,heading:10,tilt:19,styleId:""})},isCustomCenter:{type:Boolean,default:!1},mapCenter:{type:Object,default:()=>({lng:113.16,lat:40.9556})},styleOptions:{type:Object,default:()=>({strokeColor:"#43a8ff",fillColor:"#43a8ff",strokeWeight:3,strokeOpacity:1,fillOpacity:.2})},labelOptions:{type:Object,default:()=>({borderRadius:"2px",background:"#FFFBCC",border:"1px solid #E1E1E1",color:"#703A04",fontSize:"12px",letterSpacing:"0",padding:"5px"})}},dicts:[],data(){return{title:"绘制区域",map:null,BMapGL:null,dialogVisible:!1,activeBtn:"",markerObj:{e:void 0,point:void 0,address:void 0},polylineObj:{e:void 0,pointsArr:void 0},rectangleObj:{e:void 0,pointsArr:void 0},polygonObj:{e:void 0,pointsArr:void 0},circleObj:{e:void 0,center:void 0,radius:void 0}}},methods:{getMyPosition(){return new Promise(((t,e)=>{this.$nextTick((()=>{const n=new this.BMapGL.Geolocation;n.getCurrentPosition((n=>{n&&n.point?t(n.point):e({lat:void 0,lng:void 0})}))}))}))},initMap(){this.$nextTick((()=>{G("zUX8euZSyCodQ1jFaZRZxNgWo4uzLZw1").then((()=>{this.BMapGL=BMapGL,this.map=new this.BMapGL.Map("map-container");let t=this.getMyPosition();function e(t,e,n){return{lng:t?n.lng:e.lng,lat:t?n.lat:e.lat}}this.map.enableScrollWheelZoom(),this.map.setHeading(this.mapConfig.heading),this.map.setTilt(this.mapConfig.tilt),this.map.setMapStyleV2({styleId:this.mapConfig.styleId});const n=e(!this.isCustomCenter,t,this.mapConfig);this.map.centerAndZoom(new this.BMapGL.Point(n.lng,n.lat),this.mapConfig.zoom),this.echoMapPolygon()}))}))},echoMapPolygon(){if(this.polygonObj.pointsArr){let e=JSON.parse(this.polygonObj.pointsArr),n=e.map((t=>new BMapGL.Point(t.lng,t.lat)));var t=new BMapGL.Polygon(n,this.styleOptions);this.map.addOverlay(t),this.map.setViewport(e)}},handleDraw(t){this.clearLayers(),this.activeBtn=t;const e=new BMapGLLib.DrawingManager(this.map,{enableCalculate:!1,enableSorption:!0,sorptiondistance:20,circleOptions:this.styleOptions,polylineOptions:this.styleOptions,polygonOptions:this.styleOptions,rectangleOptions:this.styleOptions,labelOptions:this.labelOptions});if(e._isOpen&&e.getDrawingMode()===this.activeBtn?(e.close(),this.activeBtn):(e.setDrawingMode(this.activeBtn),e.open()),"marker"===this.activeBtn){let t=0;this.map.addEventListener("click",(n=>{t++,t>1||(e.close(),this.activeBtn)})),e.addEventListener("overlaycomplete",(t=>{const e=t.overlay;let n=e.getPosition();const o=new this.BMapGL.Geocoder;o.getLocation(n,(e=>{this.markerObj={e:t,point:n,address:e},console.log(this.markerObj,"点")}))}))}else"polyline"===this.activeBtn?e.addEventListener("overlaycomplete",(t=>{this.polylineObj={e:t,pointsArr:t.overlay.points.map((t=>t.latLng))},console.log(this.polylineObj,"折线")})):"rectangle"===this.activeBtn?e.addEventListener("overlaycomplete",(t=>{this.rectangleObj={e:t,pointsArr:t.overlay.getPath()},console.log(this.rectangleObj,"矩形")})):"polygon"===this.activeBtn?e.addEventListener("overlaycomplete",(t=>{this.polygonObj={e:t,pointsArr:t.overlay.getPath()},console.log(this.polygonObj,"多边形")})):"circle"===this.activeBtn&&e.addEventListener("overlaycomplete",(t=>{const e=t.overlay;this.circleObj={e:t,center:e.getCenter(),radius:e.getRadius()},console.log(this.circleObj,"圆")}))},clearLayers(){let t=this.map.getOverlays();t.forEach((t=>{this.map.removeOverlay(t)})),this.markerObj={e:void 0,point:void 0,address:void 0},this.polylineObj={e:void 0,pointsArr:void 0},this.rectangleObj={e:void 0,pointsArr:void 0},this.polygonObj={e:void 0,pointsArr:void 0},this.circleObj={e:void 0,center:void 0,radius:void 0}},showDialog(t){this.title=t.title,this.dialogVisible=!0,this.polygonObj.pointsArr=t.data;let e=this;this.$nextTick((()=>{e.initMap()}))},hideDialog(){this.activeBtn="",this.map=null,this.dialogVisible=!1},async handleSubmit(){console.log("点击保存");let t=this[`${this.activeBtn}Obj`];t.e?(console.log(t,"obj"),this.$emit("on-response",t),this.hideDialog()):this.$message({type:"error",message:"请先绘制图层再确定!"})},echoData(t){}},created(){},mounted(){}},A=$,I=p(A,_,D,!1,null,"fe8dd0fe",null),R=I.exports;const V=[d,B,R],W=function(t){V.forEach((e=>{t.component(e.name,e)}))};"undefined"!==typeof window&&window.Vue&&W(window.Vue);var z={install:W,...V},N=z;return o}()}));
//# sourceMappingURL=bdgl-map-lib.umd.min.js.map