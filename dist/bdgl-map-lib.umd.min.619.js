(("undefined"!==typeof self?self:this)["webpackChunkbdgl_map_lib"]=("undefined"!==typeof self?self:this)["webpackChunkbdgl_map_lib"]||[]).push([[619],{6619:function(e,t,n){n(4114);var i=["area","setDrawingMode","万平方米","addEventListener","getPolylineDistance","documentMode","appendChild","forEach","circleOptions","rectangleOptions","M22=","enableDrawingTool","join","rectWidth","controlButton","setPath","top","panBy","米<br>松开结束绘制","_bind","_enableGpc","drawingType","drawingMode","operateLeft","enableTips","className","prototype","clearOverlay",'<div class="rectWH"><div class="wh"><span id="rectWidth">',"close","_drawingType","setCircleOptions","concat","_bindEventByDraingMode","defaultAnchor","_enableCalculate","hide","Class","enableSorption","GeoUtils","addPoint","src","dispatchEvent","south","nodeName","hasCustomStyle","North","pointToOverlayPixel","Label","半径：","bindRectEvent","screenshotNum","overlay","stopBubble","mouseenter","使用鼠标拖动地图","clientWidth","limit","pop","circle","object","style","_isOpen","focus","isString","_counter","button","setSorptionDistance","acos","_dispatchOverlayCancel","insertNode","rectangle","extend","setRectangleOptions",'<div class="circlShot"><span id="screenshotNum">',"disableCalculate","asin","setPolylineOptions","setOverlaysData","Icon","sort","container","createContextualFragment","add","_enableSorption","sqrt","attachEvent","dragend","length","PolyDefault","browser","disableSorption","getElementById","_addGeoUtilsLibrary","Size","单击确认起点","isFunction","removeOverlay","customContainer","initialize","setInfo","open","gpcas","display","_className","createElement","_setDrawingMode","userAgent","guid","hashCode","currentTarget","West","mousemove",'</span><input id="rectHeightInput" type="text" /></div><span class="unit">米</span></div>',"markerOptions","尺寸：","script","call","Object","getViewport","atan2","point","_dispatchRectWHChange","drawingManager","AFTERBEGIN","setAnchor","BMapGLLib_box BMapGLLib_","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAd9JREFUOBGtVc8rRFEUPufOvELMguTHwkbKjxRlo9gqNpjyFyhTit3I8i1ldpQa5S9QmA1lS9koSn6UZmMxSCyGkPlx3O+9mTe8Zl4zw7eZ7rnn++aee893HlMRzEXFeLh6m2LJTpHwEJG022mcIJZTYbXX2lu/txnilJvO7sDkYnJaC0REqNO993PNTHEiDsfWAru/4vmFaYo6e35dEZIwYh1tPhobNmig20/NjcpKe3rJ0vlNmg5PUnR3n7FiTBwZbGpYNk3OIuCccHIhuQoxv49lNljD4yMG6VMUhT49HRynaGvnU9IZ0Wkcia0HlhxBlCkiOxAz5+u4v8tXVMgdvLjNkLnxbosyB1E+4wEeL5PXuLPQTC1NjBpunud6/yhF0e0PVBNv6Qv0KLwmxHBnKLNSgAMuNKClrNbQKniAUnfm9SfggAtAS9l9RtZrehG99tAJFnTP6n6wmzbfGl7EUnsFrrTbDVYqs4q4FtR20kDTVosClxMK3oQQHFAtHK7WUjA6hGAnOKBSgAMuAC2FqYGmhDdhp0oBDrjQgJayRxBbAwHehJ3KBXLBsfM5DC3H/v81HHIdSYQRpMcX6ekRhjcPjr/KGV+6Unt8xXJlOSfMl/lvAzYviN+/fAK+AW5jAVefzjWGAAAAAElFTkSuQmCC","getPanes","拖动地图","layerX","offset","collapse","setOffset","isOpen","_bindRectangle","Pixel","enableEdgeMove","getPolygonArea","markerPane","_listeners","setImageSize","textContent","data","createRange","overlays","removeEventListener","sin","keyCode","setViewport","overlaycomplete","nodeType","latLng","calculate","insertHTML","_calculate","warnOperate","_addGPCLibrary","body","right","getDistance","setAttribute","[object Function]","_edgeMoveTimer","div","-moz-transform: scale(","east","_mask","_generalHtml","mousedown","px;","Overlay","_adjustSize","position:absolute;background:transparent;cursor:crosshair;width:","setStyleByDrawingMode","_bindCircle","_bindPolylineOrPolygon","polygon","test","enableDoubleClickZoom","Circle","value","_open","defaultDrawingModes","_instances","addOverlayData","sorptionDistance","cos","getTarget","left","lng","event","#4E6DF1","listener","不超过","-webkit-transform: scale(","BEFOREBEGIN","defaultOffset","indexOf","_setScale","_dispatchOverlayComplete","getNorthEast","圆形工具","getBounds","height","replace",'<div><span id="confirmOperate"></span><span id="cancelOperate"></span><span id="warnOperate">',"pow","scale","toString","Marker","selectNodeContents","_drawingTool","Polygon","disableEditing","returnValue","_close","mouseup",'<p class="BMapGLLib_tip_title"></p><p class="BMapGLLib_tip_text"></p>',"stopPropagation","getAttribute","_initialize","polyline","floatPane",'</span><input id="circleInput" type="text" /><span class="unit">米</span></div>',"_sorptionDistance","superClass","toFixed","keydown","changedTouches","clearOverlayData","ownerDocument","DrawingManager","setIcon","setRadius","disableGpc","Event","BMapGLLib_tip","setEndAfter","transform: scale(","setMarkerOptions","pixelToPoint","setNumber","toLowerCase","BMapGLLib_Drawing_panel","abs","__listeners","string","disableEdgeMove","drawingModes","_getRectanglePoint","_enableEdgeMove","dblclick","preventDefault","target","setPolygonOptions","label","dom","draw","_panByX","Point","getEvent","polylineOptions","lat","getDrawingMode","block","geometry","getPath","cancel","updateWindow","click","按住确认起点，拖拽进行绘制","width","TANGRAM__","_map","offsetParent","getElementsByTagName","number","getContainer","cssText","zoom","dispose","setStyle","South","hasOwnProperty","rectHeight","mc2ll","setCenter","lang","getRadius","tip","removeControl","none","inline-block","setPosition","px;height:"," BMapGLLib_last","clientY","drawingToolOptions","cancelOperate","radiuschange","getSouthWest","innerHTML","margin-top:0px\\0;","mousemoveAction","画折线","_bindMarker","classList","East","children","push","getSorptionMatch","west","_dispatchRadiusChange","clientX","setLabelOptions","//mapopen.cdn.bcebos.com/github/BMapGLLib/DrawingManager/src/gpc.js","labelOptions","polygonOptions","pointToPixel","inherits","innerText","enableCalculate","_opts","north","enableGpc","type","addOverlay"],a=function(e,t){e-=0;var n=i[e];return n},x=window["BMapGLLib"]=x||{},o="marker",s="polyline",r="circle",l="rectangle",c=a("0xb1");(function(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAs1JREFUWAnNmb9v01AQx989SzVI8dIBJNZ27Mb/QRpExMiOKAW1Mw3MRVCB2BlRECF/CBtjuwbBwGJL1JXs474vtuU4Tkho4tyTGr9ffvfxvV93VzL/mfYPLndSumqT4buG6Y4MI3+MpyQayc/IEI/Y0DfLW8Ov725cuKYlf2iZ/p3j8FZylT4hQx1m3lvmXSL6zoYH3pZ9PzgNfi367kKA3R634t/REXF6zMa0Fh28rp8IjJjsqb/det3vUVTXp1z3T8DOs/B+kvIHw3y7/OK180Q/PUuPB2+DL/PGsrMaZQrp3tPwJEn488rhIFQ+GGNDBmTN4qht6D7nm3ESfpRBurNeXGk9Ud/3gkf9N/SnOu6UBvE1jcKBSBQBmXWanAJsH0YvGtNcWV0C6WSX6yQ/McVuQ2DNycFW6ddQkdjz6EF54xQg46MkPMfibYimXozsbn872M2PoGKKcc5tHA7IoiDHkuE7DeKGSOP04rqHcL1Klq8VqMj6dgc3jtMgx+mBFjh8DlhwpSI/BiTaR0FTwn0PHnJWiYnPNcHlLNb4uxYmU16h7Qk26+w5bWQZD9hsZmzqRBRDGJsks4JVMgIwN9M1ArIAykRrRHNMwoY1+EMtoLBhDcID05pGMsWsF1DYLPxWrepzPjWcaq2AYLPw+OFUa4MEE9jG1ox4/NoAEYUAkwNEOAJGohZIsICpAITlinCEFkCw5PEbp0GAIVZixGHZOKRzmoQlSwUgvCjESsSG3eDVJ26nMOQeHRgLQBScP0r0EvmNJJFd9onBIOtxMiH80D4MPzUeXZD4zPAseCjHy8QMTmgQqOiAQI5k+pPoayxlwaMqnOOZJXasSRenOVlfKES0JdM6PGu9qoObC5iDqw1g5oBYtIiVGLK9VRzmbgwZC2NWN0Qus/yc2iTlxmoeIRIXhRBHX5bAXrV9XlmmcH1B9DrBTf0b4i99lUEMOuku/wAAAABJRU5ErkJggg==",t=a("0x7f"),n="data:image/png;base64,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",i=i||{guid:"$BAIDU$"};(function(){window[i["guid"]]={},i[a("0x48")]=function(e,t){for(var n in t)t[a("0x11c")](n)&&(e[n]=t[n]);return e},i["lang"]=i["lang"]||{},i[a("0x120")]["guid"]=function(){return a("0x111")+(window[i[a("0x6c")]][a("0x41")]++)[a("0xd1")](36)},window[i["guid"]][a("0x41")]=window[i["guid"]]["_counter"]||1,window[i[a("0x6c")]][a("0xb8")]=window[i[a("0x6c")]][a("0xb8")]||{},i["lang"][a("0x25")]=function(e){this["guid"]=e||i["lang"]["guid"](),window[i[a("0x6c")]]["_instances"][this[a("0x6c")]]=this},window[i["guid"]]["_instances"]=window[i["guid"]]["_instances"]||{},i[a("0x120")][a("0x40")]=function(e){return"[object String]"==Object[a("0x1a")]["toString"]["call"](e)},i[a("0x120")]["isFunction"]=function(e){return a("0xa2")==Object[a("0x1a")][a("0xd1")]["call"](e)},i["lang"][a("0x25")]["prototype"]["toString"]=function(){return"[object "+(this[a("0x68")]||a("0x76"))+"]"},i["lang"]["Class"]["prototype"][a("0x119")]=function(){for(var e in delete window[i[a("0x6c")]]["_instances"][this["guid"]],this)i[a("0x120")][a("0x60")](this[e])||delete this[e];this["disposed"]=!0},i[a("0x120")][a("0xec")]=function(e,t){this["type"]=e,this[a("0xd7")]=!0,this["target"]=t||null,this["currentTarget"]=null},i["lang"][a("0x25")]["prototype"][a("0x3")]=function(e,t,n){if(i["lang"][a("0x60")](t)){!this[a("0xf6")]&&(this["__listeners"]={});var x,o=this["__listeners"];if(typeof n==a("0xf7")&&n){if(/[^\w\-]/[a("0xb2")](n))throw"nonstandard key:"+n;t[a("0x6d")]=n,x=n}0!=e["indexOf"]("on")&&(e="on"+e),typeof o[e]!=a("0x3c")&&(o[e]={}),x=x||i["lang"][a("0x6c")](),t["hashCode"]=x,o[e][x]=t}},i[a("0x120")][a("0x25")]["prototype"]["removeEventListener"]=function(e,t){if(i[a("0x120")]["isFunction"](t))t=t[a("0x6d")];else if(!i["lang"]["isString"](t))return;!this[a("0xf6")]&&(this[a("0xf6")]={}),0!=e[a("0xc6")]("on")&&(e="on"+e);var n=this[a("0xf6")];n[e]&&n[e][t]&&delete n[e][t]},i[a("0x120")][a("0x25")][a("0x1a")]["dispatchEvent"]=function(e,t){for(var n in i["lang"]["isString"](e)&&(e=new i["lang"]["Event"](e)),!this["__listeners"]&&(this[a("0xf6")]={}),t=t||{},t)e[n]=t[n];var x=this["__listeners"],o=e["type"];if(e["target"]=e["target"]||this,e["currentTarget"]=this,0!=o["indexOf"]("on")&&(o="on"+o),i["lang"][a("0x60")](this[o])&&this[o]["apply"](this,arguments),typeof x[o]==a("0x3c"))for(n in x[o])x[o][n]["apply"](this,arguments);return e[a("0xd7")]},i["lang"][a("0x140")]=function(e,t,n){var i,x,o=e[a("0x1a")],s=new Function;for(i in s["prototype"]=t[a("0x1a")],x=e[a("0x1a")]=new s,o)x[i]=o[i];e[a("0x1a")]["constructor"]=e,e[a("0xe2")]=t["prototype"],"string"==typeof n&&(x["_className"]=n)},i[a("0x101")]=i["dom"]||{},i["_g"]=i[a("0x101")]["_g"]=function(e){return i["lang"]["isString"](e)?document[a("0x5c")](e):e},i["g"]=i["dom"]["g"]=function(e){return a("0xf7")==typeof e||e instanceof String?document["getElementById"](e):e&&e[a("0x2c")]&&(1==e["nodeType"]||9==e[a("0x97")])?e:null},i[a("0x9a")]=i["dom"]["insertHTML"]=function(e,t,n){var x,o;return e=i["dom"]["g"](e),e["insertAdjacentHTML"]?e["insertAdjacentHTML"](t,n):(x=e[a("0xe7")][a("0x90")](),t=t["toUpperCase"](),t==a("0x7c")||"BEFOREEND"==t?(x[a("0xd3")](e),x["collapse"]("AFTERBEGIN"==t)):(o=t==a("0xc4"),x[o?"setStartBefore":a("0xee")](e),x[a("0x84")](o)),x[a("0x46")](x[a("0x52")](n))),e},i["ac"]=i[a("0x101")]["addClass"]=function(e,t){e=i["dom"]["g"](e);for(var n=t["split"](/\s+/),x=e["className"],o=" "+x+" ",s=0,r=n[a("0x58")];s<r;s++)o["indexOf"](" "+n[s]+" ")<0&&(x+=(x?" ":"")+n[s]);return e["className"]=x,e},i[a("0xbf")]=i["event"]||{},i["event"][a("0x8c")]=i["event"]["_listeners"]||[],i["on"]=i["event"]["on"]=function(e,t,n){t=t["replace"](/^on/i,""),e=i["_g"](e);var x,o=function(t){n[a("0x75")](e,t)},s=i[a("0xbf")]["_listeners"],r=i[a("0xbf")]["_eventFilter"],l=t;return t=t[a("0xf3")](),r&&r[t]&&(x=r[t](e,t,o),l=x[a("0x146")],o=x[a("0xc1")]),e["addEventListener"]?e["addEventListener"](l,o,!1):e[a("0x56")]&&e[a("0x56")]("on"+l,o),s[s[a("0x58")]]=[e,t,n,o,l],e},i["un"]=i["event"]["un"]=function(e,t,n){e=i["_g"](e),t=t[a("0xcd")](/^on/i,"")["toLowerCase"]();var x,o,s,r=i[a("0xbf")][a("0x8c")],l=r["length"],c=!n;while(l--)x=r[l],x[1]!==t||x[0]!==e||!c&&x[2]!==n||(o=x[4],s=x[3],e["removeEventListener"]?e["removeEventListener"](o,s,!1):e["detachEvent"]&&e["detachEvent"]("on"+o,s),r["splice"](l,1));return e},i[a("0x105")]=i["event"]["getEvent"]=function(e){return window[a("0xbf")]||e},i[a("0xbc")]=i["event"]["getTarget"]=function(e){var t=i["getEvent"](t);return t["target"]||t["srcElement"]},i[a("0xfd")]=i["event"][a("0xfd")]=function(e){var t=i["getEvent"](t);t[a("0xfd")]?t["preventDefault"]():t[a("0xd7")]=!1},i["stopBubble"]=i["event"]["stopBubble"]=function(e){e=i["getEvent"](e),e[a("0xdb")]?e[a("0xdb")]():e["cancelBubble"]=!0},i[a("0x5a")]=i[a("0x5a")]||{},/msie (\d+\.\d)/i["test"](navigator[a("0x6b")])&&(i[a("0x5a")]["ie"]=i["ie"]=document[a("0x5")]||+RegExp["$1"])})();var p=x["DrawingManager"]=function(e,t){e&&(v[a("0x136")](this),t=t||{},this[a("0x91")]=[],this[a("0xdd")](e,t))};i[a("0x120")]["inherits"](p,i[a("0x120")][a("0x25")],a("0xe8")),p[a("0x1a")][a("0x65")]=function(){if(1==this[a("0x3e")])return!0;y(this),this["_open"]()},p["prototype"][a("0x1d")]=function(){if(0==this[a("0x3e")])return!0;var e=this;this[a("0xd8")](),e[a("0x112")]["removeOverlay"](d),setTimeout((function(){e["_map"]["enableDoubleClickZoom"]()}),2e3)},p["prototype"][a("0x1")]=function(e){this[a("0x1e")]!=e&&(y(this),this[a("0x6a")](e))},p["prototype"][a("0x108")]=function(){return this["_drawingType"]},p[a("0x1a")][a("0x142")]=function(){this[a("0x23")]=!0,this[a("0x5d")]()},p[a("0x1a")]["disableCalculate"]=function(){this[a("0x23")]=!1},p[a("0x1a")][a("0x26")]=function(){this[a("0x54")]=!0},p[a("0x1a")][a("0x5b")]=function(){this["_enableSorption"]=!1},p[a("0x1a")][a("0x145")]=function(){this["_enableGpc"]=!0,this["_addGPCLibrary"]()},p[a("0x1a")][a("0xeb")]=function(){this[a("0x14")]=!1},p[a("0x1a")]["getOverlays"]=function(){return this[a("0x91")]},p["prototype"][a("0xb9")]=function(e){return this["overlays"][a("0x136")](e)},p[a("0x1a")][a("0x4e")]=function(e){return this[a("0x91")]=e},p[a("0x1a")][a("0xe6")]=function(e){this["_map"];for(var t=0;t<this[a("0x91")]["length"];t++)if(this[a("0x91")][t]===e)return this[a("0x91")]["splice"](t,1),e},p["prototype"][a("0x1b")]=function(e){var t=this["_map"],n=this[a("0xe6")](n);n&&t[a("0x61")](n)},p["prototype"]["clearOverlays"]=function(){var e=this[a("0x112")];this[a("0x91")][a("0x7")]((function(t){e[a("0x61")](t)})),this[a("0x91")]["length"]=0},p[a("0x1a")]["_initialize"]=function(e,t){if(this[a("0x112")]=e,this[a("0x143")]=t,this[a("0x1e")]=t[a("0x16")]||o,t[a("0xb")]&&this["enableDrawingTool"](),void 0!==t[a("0xba")]&&this[a("0x43")](t["sorptionDistance"]),!0===t["enableCalculate"]?this[a("0x142")]():this[a("0x4b")](),!0===t["enableLimit"]){var n=t["limitOptions"];this["limit"]=n}!0===t[a("0x26")]?this[a("0x26")]():this["disableSorption"](),!0===t[a("0x145")]?this["enableGpc"]():this["disableGpc"](),this[a("0x3e")]=!(!0!==t[a("0x86")]),this[a("0x3e")]&&this[a("0xb6")](),this["setPolygonOptions"](t[a("0x13e")]),this[a("0xf0")](t["markerOptions"]),this["setCircleOptions"](t[a("0x8")]),this["setPolylineOptions"](t[a("0x106")]),this[a("0x49")](t[a("0x9")]),this[a("0x13b")](t[a("0x13d")]),this["controlButton"]="right"==t["controlButton"]?a("0x9f"):"left"},p["prototype"]["enableDrawingTool"]=function(){var e=this["_opts"];if(!this[a("0xd4")]){var t=new f(this,e["drawingToolOptions"]);this[a("0xd4")]=t}this[a("0x112")]["addControl"](this[a("0xd4")])},p[a("0x1a")]["disableDrawingTool"]=function(){this["_drawingTool"]&&this["_map"][a("0x123")](this[a("0xd4")])},p["prototype"]["setSorptionDistance"]=function(e){this[a("0xe1")]=e||0},p["prototype"][a("0xff")]=function(e){this[a("0x13e")]=e||{}},p["prototype"]["setMarkerOptions"]=function(e){this[a("0x72")]=e||{}},p["prototype"][a("0x1f")]=function(e){this["circleOptions"]=e||{}},p["prototype"][a("0x4d")]=function(e){this[a("0x106")]=e||{}},p["prototype"][a("0x49")]=function(e){this["rectangleOptions"]=e||{}},p["prototype"][a("0x13b")]=function(e){this["labelOptions"]=e||{}},p[a("0x1a")][a("0xb6")]=function(){this[a("0x3e")]=!0,this["_mask"]||(this["_mask"]=new g),this[a("0x112")]["addOverlay"](this["_mask"]),this[a("0x6a")](this["_drawingType"])},p[a("0x1a")][a("0x6a")]=function(e){if(this["_drawingType"]=e,this["_isOpen"])switch(this["_mask"][a("0xf6")]={},e){case o:this[a("0x132")]();break;case r:this["_bindCircle"]();break;case s:case c:this[a("0xb0")]();break;case l:this[a("0x87")]();break}this[a("0xd4")]&&this["_isOpen"]&&this["_drawingTool"]["setStyleByDrawingMode"](e)},p[a("0x1a")]["_close"]=function(){this[a("0x3e")]=!1,this["_mask"]&&this["_map"][a("0x61")](this[a("0xa7")]),this[a("0xd4")]&&this["_drawingTool"]["setStyleByDrawingMode"]("hander")},p[a("0x1a")]["_bindMarker"]=function(){var e=this,t=this[a("0x112")],n=this["_mask"],i=function(n){var i=new BMapGL["Marker"](n[a("0x79")],e["markerOptions"]);t["addOverlay"](i),e["_dispatchOverlayComplete"](i)};n[a("0x3")]("click",i)};var d=null;function h(e,t){this[a("0x39")]=e["limit"],this["type"]=e[a("0x146")],this[a("0x79")]=e[a("0x79")],this[a("0x34")]=e["overlay"],this[a("0x91")]=e["overlays"],this[a("0xe8")]=t}function u(e,t,n,i,x){this["type"]=e,this[a("0x79")]=t,this["number"]=n,this["overlay"]=i,this[a("0xe8")]=x}function g(){this[a("0xfb")]=!1}function f(e,t){this["drawingManager"]=e,t=this[a("0x12a")]=t||{},this[a("0x143")]={},this[a("0x22")]=BMAP_ANCHOR_TOP_LEFT,this[a("0xc5")]=new(BMapGL[a("0x5e")])(10,10),this[a("0xb7")]=[o,r,s,c,l],t["drawingModes"]?this[a("0xf9")]=t[a("0xf9")]:this["drawingModes"]=this[a("0xb7")],t[a("0x2d")]&&(t["anchor"]&&this[a("0x7d")](t["anchor"]),t["offset"]&&this[a("0x85")](t[a("0x83")]))}p["prototype"][a("0xaf")]=function(){var t=this,x=this["_map"],o=this["_mask"],s=null,r=[],l=null,c=1,p=null,g=null,f=null,v=null,y={strokeColor:a("0xc0"),strokeWeight:2},m=new(BMapGL[a("0x4f")])(e,new BMapGL["Size"](20,20)),w=new BMapGL["Icon"](n,new(BMapGL[a("0x5e")])(40,20),{imageOffset:new(BMapGL[a("0x5e")])(0,10)}),M=function(e){if("right"!=t[a("0xe")]||1!=e[a("0x42")]&&0!=e["button"]){l=e["point"];var n=new(BMapGL[a("0xd2")])(l);m[a("0x8d")](new(BMapGL[a("0x5e")])(20,20)),n[a("0xe9")](m),n["enableDragging"](),n[a("0x3")]("dragstart",G),n["addEventListener"]("dragging",_),n[a("0x3")](a("0x57"),O),x[a("0x147")](n),r["push"](n),s=new(BMapGL[a("0xb4")])(l,c,t["circleOptions"]),x["addOverlay"](s),o["enableEdgeMove"](),o[a("0x3")]("mousemove",A),i["on"](document,a("0xd9"),L)}},A=function(e){c=t[a("0x112")]["getDistance"](l,e["point"])["toFixed"](0),s[a("0xea")](c),x["removeOverlay"](d),d=new(BMapGL[a("0x30")])(a("0x31")+c+"米<br>松开完成绘制",{position:e["point"],offset:new BMapGL["Size"](10,10)}),d["setStyle"](t["labelOptions"]),x["addOverlay"](d)},L=function(e){var n=x[a("0x77")](s[a("0xcb")]());n["zoom"]-=1,x["setViewport"](n),x[a("0x61")](d);var m=new(BMapGL[a("0x104")])(s[a("0xcb")]()["getNorthEast"]()["lng"],l[a("0x107")]);o[a("0x24")](),p=new BMapGL["Marker"](m),p["setIcon"](w),p["enableDragging"](),g=new BMapGL["Polyline"]([l,m],y);var M=new(BMapGL[a("0x104")])((s["getBounds"]()[a("0xc9")]()["lng"]+l["lng"])/2,l[a("0x107")]);f=new u("circle",M,c,s,t),r=r[a("0x20")]([p,g,f]);var E=null;t[a("0x39")]&&(E=t[a("0x39")][a("0x0")]);var G={limit:E,type:"circle",point:m,overlay:s,overlays:r};v=new h(G,t),x["addOverlay"](p),x["addOverlay"](g),x[a("0x147")](f),x["addOverlay"](v),f["addEventListener"](a("0x12c"),(function(e){var t=e["radius"];s["setRadius"](t);var n=b(l,t,a("0xa6")),i=new BMapGL["Point"](n[a("0xbe")],l[a("0x107")]),x=n["lng"]>l[a("0xbe")]?(s["getBounds"]()["getNorthEast"]()[a("0xbe")]+l[a("0xbe")])/2:(s["getBounds"]()["getSouthWest"]()[a("0xbe")]+l["lng"])/2,o=new BMapGL["Point"](x,l[a("0x107")]);p[a("0x126")](i),f[a("0x64")](o,t),v["setPosition"](i,!0),v[a("0x10d")](),g[a("0xf")]([l,i])})),p["addEventListener"]("dragging",(function(e){var n=new(BMapGL[a("0x104")])(e[a("0x98")]["lng"],l[a("0x107")]),i=e["latLng"][a("0xbe")]>l[a("0xbe")]?(s["getBounds"]()[a("0xc9")]()[a("0xbe")]+l[a("0xbe")])/2:(s[a("0xcb")]()[a("0x12d")]()[a("0xbe")]+l[a("0xbe")])/2,x=e[a("0x98")]["lng"]>l["lng"],o=new(BMapGL[a("0x104")])(i,l["lat"]);e[a("0xfe")][a("0x126")](n),f[a("0x64")](o,t[a("0x112")]["getDistance"](l,e[a("0x98")])[a("0xe3")](0)),v[a("0x126")](n,x),g[a("0xf")]([l,n]),c=t["_map"][a("0xa0")](l,e["latLng"])["toFixed"](0),s["setRadius"](t["_map"][a("0xa0")](l,e[a("0x98")]))})),p[a("0x3")]("dragend",(function(e){v[a("0x10d")]()})),o[a("0xf8")](),o[a("0x92")](a("0x70"),A),o[a("0x92")](a("0x70"),B),i["un"](document,"mouseup",L),x[a("0x61")](o)},B=function(e){i[a("0xfd")](e),i["stopBubble"](e),"right"==t[a("0xe")]&&1==e[a("0x42")]||null==l&&M(e)},E=function(e){i["preventDefault"](e),i[a("0x35")](e),x[a("0x61")](d),d=new(BMapGL[a("0x30")])("按下确认中心点，拖拽确认半径",{position:e["point"],offset:new(BMapGL[a("0x5e")])(10,10)}),d[a("0x11a")](t[a("0x13d")]),x["addOverlay"](d)},G=function(e){x["removeOverlay"](p),x[a("0x61")](g),x["removeOverlay"](f),x["removeOverlay"](v)},_=function(e){l=e[a("0x98")],s[a("0x11f")](e[a("0x98")])},O=function(e){l=e[a("0x98")],L(e)};o["addEventListener"]("mousedown",B),o[a("0x3")](a("0x70"),E)},p[a("0x1a")][a("0xb0")]=function(){var e=this,t=this["_map"],n=this["_mask"],x=[],o=null,r=null,l=null,p=!1;function u(){for(var e=arguments[0],t=0,n=0,i=0;i<e[a("0x58")];i++)t<e[i][a("0xbe")]&&(t=e[i]["lng"],n=i);return e[n]}var g=function(i){if("right"!==e["controlButton"]||1!==i[a("0x42")]&&0!==i["button"]){var d=i[a("0x79")];l&&(d=l),x[a("0x136")](d),o=x[a("0x20")](x[x["length"]-1]),1==x[a("0x58")]?(e[a("0x1e")]==s?r=new BMapGL["Polyline"](o,e["polylineOptions"]):e["_drawingType"]==c&&(r=new(BMapGL[a("0xd5")])(o,e["polygonOptions"])),t[a("0x147")](r)):r["setPath"](o),p||(p=!0,n[a("0x89")](),n[a("0x92")](a("0x70"),y),n["addEventListener"](a("0x70"),f),n["addEventListener"]("dblclick",v))}},f=function(n){var i=n[a("0x79")];if(e["_enableSorption"]){var x=e[a("0x137")](i,e[a("0x91")],e[a("0xe1")]);if(x&&x["length"]>0)return l=x[0]["point"],void r["setPositionAt"](o["length"]-1,x[0][a("0x79")])}l=null,r["setPositionAt"](o[a("0x58")]-1,n[a("0x79")]),t[a("0x61")](d),d=new(BMapGL[a("0x30")])("单击绘制下一个点，双击完成绘制",{position:n[a("0x79")],offset:new(BMapGL[a("0x5e")])(10,10)}),d["setStyle"](e[a("0x13d")]),t[a("0x147")](d)},v=function(s){i["stopBubble"](s),p=!1,t[a("0x61")](d),n["disableEdgeMove"](),n[a("0x92")](a("0xa9"),g),n["removeEventListener"](a("0x70"),f),n["removeEventListener"]("mousemove",y),n["removeEventListener"]("dblclick",v),"right"==e["controlButton"]?x["push"](s[a("0x79")]):i["ie"]<=8||x[a("0x3a")]();try{if(e[a("0x14")]&&window["gpcas"]&&"polygon"===e["_drawingType"]){for(var l=new(gpcas[a("0x10a")][a("0x59")]),c=0;c<x[a("0x58")];c++)l[a("0x28")](new(gpcas[a("0x104")])(x[c][a("0xbe")],x[c][a("0x107")]));for(var b=0;b<e["overlays"][a("0x58")];b++){var m=e["overlays"][b]["getPath"](),w=new(gpcas[a("0x10a")][a("0x59")]);for(c=0;c<m["length"];c++)w[a("0x28")](new(gpcas[a("0x104")])(m[c][a("0xbe")],m[c][a("0x107")]));var M=l["difference"](w),A=M["getPoints"](),L=[];for(c=0;c<A[a("0x58")];c++)L["push"](new(BMapGL[a("0x104")])(A[c]["x"],A[c]["y"]));l=new(gpcas[a("0x10a")][a("0x59")]);for(c=0;c<A["length"];c++)l[a("0x28")](new(gpcas[a("0x104")])(A[c]["x"],A[c]["y"]));x=L}}}catch(O){}r[a("0xf")](x);var B=t["getViewport"](x);B[a("0x118")]-=1,t[a("0x95")](B),r["enableEditing"]();var E=null;e["limit"]&&(E="polygon"===e[a("0x1e")]?e[a("0x39")][a("0x0")]:e[a("0x39")]["distance"]);var G={limit:E,type:e["_drawingType"],point:u(x),overlay:r,overlays:[]},_=new h(G,e);t[a("0x147")](_),r[a("0x3")]("lineupdate",(function(e){var t=u(e[a("0x6e")]["getPath"]());_[a("0x126")](t,!0),_["updateWindow"]()})),x[a("0x58")]=0,o["length"]=0,t["removeOverlay"](n)},y=function(n){i["preventDefault"](n),i["stopBubble"](n),t["removeOverlay"](d),d=new(BMapGL[a("0x30")])(a("0x5f"),{position:n["point"],offset:new(BMapGL[a("0x5e")])(10,10)}),d["setStyle"](e[a("0x13d")]),t["addOverlay"](d)};n["addEventListener"](a("0x70"),y),n[a("0x3")]("mousedown",g),n["addEventListener"](a("0xfc"),(function(e){i["stopBubble"](e)}))},p[a("0x1a")][a("0x87")]=function(){var e=this,n=this[a("0x112")],x=this[a("0xa7")],o=null,s=null;function r(e,t){var n=new BMapGL["Point"](e["lng"],e[a("0x107")]),i=new(BMapGL[a("0x104")])(t["lng"],e[a("0x107")]),x=new(BMapGL[a("0x104")])(t["lng"],t["lat"]),o=new(BMapGL[a("0x104")])(e[a("0xbe")],t["lat"]),s=new(BMapGL[a("0x104")])((e[a("0xbe")]+t[a("0xbe")])/2,e["lat"]),r=new(BMapGL[a("0x104")])(t[a("0xbe")],(e[a("0x107")]+t["lat"])/2),l=new BMapGL["Point"]((e[a("0xbe")]+t["lng"])/2,t["lat"]),c=new BMapGL["Point"](e[a("0xbe")],(e["lat"]+t[a("0x107")])/2);return[n,s,i,r,x,l,o,c]}var l=new(BMapGL[a("0x4f")])(t,new BMapGL["Size"](10,10));l[a("0x8d")](new(BMapGL[a("0x5e")])(10,10));var c=function(t){if(i["stopBubble"](t),i["preventDefault"](t),e["controlButton"]!=a("0x9f")||1!=t[a("0x42")]&&0!=t["button"]){s=t[a("0x79")];var r=s;o=new BMapGL["Polygon"](e[a("0xfa")](s,r),e[a("0x9")]),n[a("0x147")](o),x[a("0x89")](),x[a("0x3")]("mousemove",p),i["on"](document,"mouseup",g)}},p=function(t){n["removeOverlay"](d),o["setPath"](e["_getRectanglePoint"](s,t["point"]));var i=r(s,t["point"]),x=e[a("0x112")][a("0xa0")](s,i[2])[a("0xe3")](0),l=e["_map"][a("0xa0")](s,i[6])[a("0xe3")](0);d=new BMapGL["Label"](a("0x73")+x+"米 x "+l+a("0x12"),{position:t[a("0x79")],offset:new(BMapGL[a("0x5e")])(10,10)}),d["setStyle"](e[a("0x13d")]),n["addOverlay"](d)},g=function(t){x[a("0x24")]();var c=null,v=[],y=r(s,t[a("0x79")]),m=[],w=n["getViewport"](y);w[a("0x118")]-=1,n[a("0x95")](w),n[a("0x61")](d);for(var M=e[a("0x112")][a("0xa0")](s,y[2])[a("0xe3")](0),A=e["_map"]["getDistance"](s,y[6])["toFixed"](0),L=new u("rectangle",y[0],{width:M,height:A},o,e),B=0;B<y[a("0x58")];B++){var E=new BMapGL["Marker"](y[B]);E["setIcon"](l),E["enableDragging"](),v[a("0x136")](E),n["addOverlay"](E),m[B]=e[a("0x11e")](E[a("0x79")]),E["addEventListener"](a("0xa9"),(function(t){c=e[a("0x11e")](t["target"]["point"])})),E[a("0x3")]("dragging",(function(t){for(var n=t[a("0x98")],i=0;i<m["length"];i++)c[a("0xbe")]==m[i]["lng"]&&(y[i][a("0xbe")]=n[a("0xbe")]),c[a("0x107")]==m[i][a("0x107")]&&(y[i][a("0x107")]=n["lat"]);y=r(y[0],y[4]);for(i=0;i<v["length"];i++)v[i][a("0x126")](y[i]);M=e["_map"]["getDistance"](y[0],y[2])["toFixed"](0),A=e["_map"]["getDistance"](y[0],y[6])[a("0xe3")](0),L["setInfo"](y[0],{width:M,height:A}),P["setPosition"](y[3],!0),o[a("0xf")](y)})),E[a("0x3")]("dragend",(function(t){for(var n=0;n<v["length"];n++){var i=v[n];m[n]=e["mc2ll"](i[a("0x79")])}P[a("0x10d")]()}))}L[a("0x3")]("rectwhchange",(function(t){var n=t["width"],i=t[a("0xcc")],x=b(y[0],n,"east"),s=b(y[0],i,a("0x2b"));y[4]["lng"]=x["lng"],y[4]["lat"]=s["lat"],y=r(y[0],y[4]);for(var l=0;l<v[a("0x58")];l++)v[l][a("0x126")](y[l]);L["setInfo"](y[0],{width:n,height:i}),P[a("0x126")](y[3],!0),o["setPath"](y);for(var c=0;c<v[a("0x58")];c++){var p=v[c];m[c]=e[a("0x11e")](p[a("0x79")])}P[a("0x10d")]()}));var G=[v,L],_=null;e["limit"]&&(_=e[a("0x39")][a("0x0")]);var O={limit:_,type:a("0x47"),point:y[3],overlay:o,overlays:G},P=new h(O,e);n[a("0x147")](P),n["addOverlay"](L),x[a("0xf8")](),x["removeEventListener"](a("0x70"),p),x["removeEventListener"]("mousemove",f),i["un"](document,a("0xd9"),g),n["removeOverlay"](x)},f=function(t){i[a("0xfd")](t),i[a("0x35")](t),n["removeOverlay"](d),d=new BMapGL["Label"](a("0x10f"),{position:t["point"],offset:new BMapGL["Size"](10,10)}),d["setStyle"](e["labelOptions"]),n[a("0x147")](d)};x[a("0x3")](a("0xa9"),c),x["addEventListener"]("mousemove",f)},p[a("0x1a")]["_calculate"]=function(e,t){var n={data:0,label:null};if(this["_enableCalculate"]&&x[a("0x27")]){var i=e[a("0xd1")]();switch(i){case"Polyline":n["data"]=x[a("0x27")][a("0x4")](e);break;case a("0xd5"):n["data"]=x["GeoUtils"][a("0x8a")](e);break;case a("0xb4"):var o=e[a("0x121")]();n[a("0x8f")]=Math["PI"]*o*o;break}!n["data"]||n["data"]<0?n["data"]=0:n[a("0x8f")]=n[a("0x8f")][a("0xe3")](2)}return n},p[a("0x1a")]["_addGeoUtilsLibrary"]=function(){if(!x["GeoUtils"]){var e=document["createElement"](a("0x74"));e[a("0xa1")](a("0x146"),"text/javascript"),e[a("0xa1")]("src","//mapopen.cdn.bcebos.com/github/BMapGLLib/GeoUtils/src/GeoUtils.min.js"),document["body"][a("0x6")](e)}},p["prototype"][a("0x9d")]=function(){if(!window[a("0x66")]){var e=document[a("0x69")]("script");e[a("0xa1")](a("0x146"),"text/javascript"),e[a("0xa1")](a("0x29"),a("0x13c")),document[a("0x9e")]["appendChild"](e)}},p["prototype"]["_addLabel"]=function(e,t){var n=new(BMapGL[a("0x30")])(t,{position:e});return this[a("0x112")][a("0x147")](n),n},p["prototype"]["_getRectanglePoint"]=function(e,t){return[new(BMapGL[a("0x104")])(e["lng"],e[a("0x107")]),new(BMapGL[a("0x104")])(t["lng"],e["lat"]),new BMapGL["Point"](t["lng"],t[a("0x107")]),new(BMapGL[a("0x104")])(e["lng"],t[a("0x107")])]},p[a("0x1a")][a("0xc8")]=function(e,t){var n={overlay:e,drawingMode:this[a("0x1e")]};t&&(n[a("0x99")]=t["data"]||null,n[a("0x100")]=t[a("0x100")]||null),this[a("0x2a")](this["_drawingType"]+"complete",e),this[a("0x2a")](a("0x96"),n)},p["prototype"]["_dispatchOverlayCancel"]=function(e){var t={overlay:e,drawingMode:this["_drawingType"]};this["dispatchEvent"](this["_drawingType"]+a("0x10c"),e),this[a("0x2a")]("overlaycancel",t)},p[a("0x1a")][a("0x137")]=function(e,t,n){n=n||20;for(var i=this["_map"],x=i[a("0x13f")](e),o=[],s=0;s<t["length"];s++){var r=t[s]["getPath"](),l=r[0],c=r[r["length"]-1];l["equals"](c)||r[a("0x136")](r[0]);for(var p=1;p<r["length"];p++){var d=i["pointToPixel"](r[p-1]),h=i[a("0x13f")](r[p]),u=[x["x"]-d["x"],x["y"]-d["y"]],g=[h["x"]-d["x"],h["y"]-d["y"]],f=[h["x"]-x["x"],h["y"]-x["y"]],v=u[0]*g[0]+u[1]*g[1],y=Math[a("0x55")](Math[a("0xcf")](u[0],2)+Math["pow"](u[1],2))*Math["sqrt"](Math[a("0xcf")](g[0],2)+Math[a("0xcf")](g[1],2)),b=Math[a("0x44")](v/y),m=g[0]*f[0]+g[1]*f[1],w=Math["sqrt"](Math[a("0xcf")](g[0],2)+Math[a("0xcf")](g[1],2))*Math["sqrt"](Math["pow"](f[0],2)+Math[a("0xcf")](f[1],2)),M=Math["acos"](m/w);if(b<Math["PI"]/2&&M<Math["PI"]/2){var A=Math[a("0x55")](Math[a("0xcf")](u[0],2)+Math[a("0xcf")](u[1],2)),L=Math[a("0x55")](Math["pow"](g[0],2)+Math[a("0xcf")](g[1],2)),B=Math[a("0xbb")](b)*A,E=B/L,G=Math["sin"](b)*A,_=[d["x"]+g[0]*E,d["y"]+g[1]*E];G<n&&o["push"]({point:i[a("0xf1")]({x:_[0],y:_[1]}),length:G})}}}o[a("0x50")]((function(e,t){return e[a("0x58")]-t["length"]}));var O=o[a("0x58")]>0?o:null;return O},p[a("0x1a")]["mc2ll"]=function(e){var t=this["_map"],n=t["mercatorToLnglat"](e[a("0xbe")],e[a("0x107")]);return new BMapGL["Point"](n[0],n[1])},p[a("0x1a")]["ll2mc"]=function(e){var t=this["_map"],n=t["lnglatToMercator"](e["lng"],e[a("0x107")]);return new BMapGL["Point"](n[0],n[1])},h["prototype"]=new BMapGL["Overlay"],h[a("0x1a")]["dispatchEvent"]=i[a("0x120")][a("0x25")]["prototype"][a("0x2a")],h["prototype"][a("0x3")]=i[a("0x120")][a("0x25")][a("0x1a")]["addEventListener"],h[a("0x1a")]["removeEventListener"]=i[a("0x120")]["Class"][a("0x1a")][a("0x92")],h[a("0x1a")]["initialize"]=function(e){this["_map"]=e;var t=this["type"]===a("0xde")?"长度":"面积",n="polyline"===this["type"]?"万米":a("0x2"),i=this["div"]=document[a("0x69")](a("0xa4"));i["className"]="operateWindow";var x=a("0xce")+t+a("0xc2")+this[a("0x39")]/1e4+n+"！</span></div>";return i["innerHTML"]=x,this[a("0x112")]["getPanes"]()["markerPane"]["appendChild"](i),this[a("0x10d")](),this["_bind"](),i},h["prototype"][a("0x13")]=function(){var e=this,t=this["_map"],n=this[a("0x34")],i=this[a("0x91")];document[a("0x5c")]("confirmOperate")[a("0x3")]("click",(function(x){if(t["removeOverlay"](e),"rectangle"==e["type"]){var o=e[a("0xe8")][a("0x9b")](n,n["getPath"]());e["DrawingManager"]["overlays"]["push"](n)}else if("circle"==e["type"]){o=e["DrawingManager"][a("0x9b")](n,e[a("0x79")]);e[a("0xe8")][a("0x91")]["push"](n)}else if("polygon"==e[a("0x146")]){o=e[a("0xe8")]["_calculate"](n,n[a("0x10b")]());e["DrawingManager"]["overlays"]["push"](n),n["disableEditing"]()}else if("polyline"==e[a("0x146")]){o=e[a("0xe8")][a("0x9b")](n,n[a("0x10b")]());e["DrawingManager"]["overlays"][a("0x136")](n),n[a("0xd6")]()}e["DrawingManager"]["_dispatchOverlayComplete"](n,o);for(var s=0;s<i[a("0x58")];s++)if(Array["isArray"](i[s]))for(var r in i[s])t[a("0x61")](i[s][r]);else t["removeOverlay"](i[s]);e[a("0xe8")]["close"]()})),document[a("0x5c")](a("0x12b"))["addEventListener"](a("0x10e"),(function(x){t["removeOverlay"](e);for(var o=0;o<i["length"];o++)if(Array["isArray"](i[o]))for(var s in i[o])t[a("0x61")](i[o][s]);else t["removeOverlay"](i[o]);t["removeOverlay"](n),e[a("0xe8")][a("0x45")](n),e[a("0xe8")][a("0x1d")]()}))},h[a("0x1a")][a("0x10d")]=function(){if(null!==this["domElement"]){var e,t=this["overlay"],n=this[a("0x39")];this["type"]==a("0x47")?e=this[a("0xe8")][a("0x9b")](t,t[a("0x10b")]()):this["type"]==a("0x3b")?e=this[a("0xe8")][a("0x9b")](t,this["point"]):"polygon"==this[a("0x146")]?e=this[a("0xe8")][a("0x9b")](t,t[a("0x10b")]()):this[a("0x146")]==a("0xde")&&(e=this[a("0xe8")]["_calculate"](t,t["getPath"]())),"[object Number]"===Object[a("0x1a")][a("0xd1")]["call"](n)&&e[a("0x8f")]>n?(document["getElementById"]("confirmOperate")[a("0x3d")][a("0x67")]="none",document[a("0x5c")](a("0x9c"))["style"][a("0x67")]="block"):(document[a("0x5c")]("confirmOperate")["style"]["display"]="block",document[a("0x5c")]("warnOperate")[a("0x3d")][a("0x67")]="none")}},h["prototype"]["setPosition"]=function(e,t){this[a("0x79")]=e;var n=this[a("0x112")],i=n["pointToOverlayPixel"](this["point"]);t?(this["div"][a("0x133")]["remove"](a("0x17")),this["div"]["style"]["left"]=i["x"]+15+"px"):(this["div"][a("0x133")][a("0x53")]("operateLeft"),this["div"][a("0x3d")][a("0xbd")]=i["x"]-105+"px"),this["div"][a("0x3d")][a("0x10")]=i["y"]-16+"px"},h["prototype"][a("0x102")]=function(){var e=this[a("0x112")],t=e[a("0x2f")](this["point"]);this["div"]["style"]["left"]=t["x"]+15+"px",this["div"][a("0x3d")]["top"]=t["y"]-16+"px"},u[a("0x1a")]=new(BMapGL[a("0xab")]),u[a("0x1a")]["dispatchEvent"]=i["lang"][a("0x25")][a("0x1a")]["dispatchEvent"],u[a("0x1a")][a("0x3")]=i["lang"][a("0x25")][a("0x1a")][a("0x3")],u["prototype"][a("0x92")]=i[a("0x120")]["Class"][a("0x1a")][a("0x92")],u["prototype"][a("0x63")]=function(e){this[a("0x112")]=e;var t=this[a("0xa4")]=document["createElement"]("div");if(t["className"]="screenshot",this[a("0x146")]==a("0x3b"))var n=a("0x4a")+this["number"]+a("0xe0");else if("rectangle"==this[a("0x146")])n=a("0x1c")+this["number"]["width"]+'</span><input id="rectWidthInput" type="text" /></div><span class="multiple">x</span><div class="wh"><span id="rectHeight">'+this["number"][a("0xcc")]+a("0x71");return t["innerHTML"]=n,this["_map"]["getPanes"]()[a("0x8b")][a("0x6")](t),this[a("0x13")](),t},u[a("0x1a")]["_bind"]=function(){this[a("0xf2")](this[a("0x115")]),"circle"==this["type"]?this["bindCircleEvent"]():this[a("0x32")]()},u["prototype"]["bindCircleEvent"]=function(){var e=this,t=document["getElementById"](a("0x33")),n=document[a("0x5c")]("circleInput");t["addEventListener"](a("0x10e"),(function(e){var i=t[a("0x141")];t["style"]["display"]=a("0x124"),n["value"]=i,n["style"][a("0x67")]="inline-block",n["focus"]()})),n["addEventListener"](a("0x10e"),(function(e){n[a("0x3f")]()})),n["addEventListener"](a("0xe4"),(function(i){if(13===i["keyCode"]){var x=n["value"];n[a("0x3d")]["display"]="none",t["style"][a("0x67")]="inline-block",t["innerText"]=x;var o={radius:x,overlay:e[a("0x34")]};e[a("0x139")](o)}})),n[a("0x3")]("blur",(function(i){var x=n["value"];n[a("0x3d")]["display"]=a("0x124"),t[a("0x3d")][a("0x67")]="inline-block",t["innerText"]=x;var o={radius:x,overlay:e["overlay"]};e[a("0x139")](o)}))},u[a("0x1a")][a("0x32")]=function(){var e=this,t=document[a("0x5c")](a("0xd")),n=document[a("0x5c")]("rectWidthInput"),i=document["getElementById"](a("0x11d")),x=document["getElementById"]("rectHeightInput");n["value"]=t[a("0x141")],x[a("0xb5")]=i["innerText"],t["addEventListener"]("click",(function(e){var i=t["innerText"];t["style"][a("0x67")]=a("0x124"),n["value"]=i,n[a("0x3d")]["display"]=a("0x125"),n[a("0x3f")]()})),i[a("0x3")](a("0x10e"),(function(e){var t=i[a("0x141")];i["style"][a("0x67")]=a("0x124"),x[a("0xb5")]=t,x[a("0x3d")]["display"]=a("0x125"),x[a("0x3f")]()})),n[a("0x3")](a("0x10e"),(function(e){n["focus"]()})),x["addEventListener"]("click",(function(e){x[a("0x3f")]()})),n["addEventListener"](a("0xe4"),(function(o){if(13===o["keyCode"]){var s=n[a("0xb5")],r=x["value"];n["style"][a("0x67")]=a("0x124"),x["style"][a("0x67")]=a("0x124"),t["style"]["display"]="inline-block",i["style"]["display"]=a("0x125"),t["innerText"]=s,i[a("0x141")]=r;var l={width:s,height:r,overlay:e[a("0x34")]};e["_dispatchRectWHChange"](l)}})),x[a("0x3")](a("0xe4"),(function(o){if(13===o[a("0x94")]){var s=n[a("0xb5")],r=x["value"];n[a("0x3d")][a("0x67")]=a("0x124"),x["style"][a("0x67")]=a("0x124"),t[a("0x3d")][a("0x67")]=a("0x125"),i["style"][a("0x67")]="inline-block",t[a("0x141")]=s,i[a("0x141")]=r;var l={width:s,height:r,overlay:e[a("0x34")]};e[a("0x7a")](l)}}))},u["prototype"][a("0x64")]=function(e,t){this[a("0xf2")](t),this[a("0x126")](e)},u["prototype"]["setNumber"]=function(e){this[a("0x146")]==a("0x3b")?document["getElementById"](a("0x33"))[a("0x8e")]=e:(document[a("0x5c")](a("0xd"))[a("0x8e")]=e["width"],document["getElementById"](a("0x11d"))[a("0x8e")]=e[a("0xcc")])},u[a("0x1a")][a("0x126")]=function(e){this["point"]=e;var t=this[a("0x112")],n=this[a("0x146")],i=t["pointToOverlayPixel"](this["point"]);"circle"==n?(this[a("0xa4")]["style"]["left"]=i["x"]-30+"px",this["div"][a("0x3d")]["top"]=i["y"]-40+"px"):n==a("0x47")&&(this["div"]["style"]["left"]=i["x"]+"px",this[a("0xa4")]["style"]["top"]=i["y"]-45+"px")},u[a("0x1a")][a("0x102")]=function(){var e=this["_map"],t=this[a("0x146")],n=e[a("0x2f")](this[a("0x79")]);t==a("0x3b")?(this[a("0xa4")][a("0x3d")]["left"]=n["x"]-30+"px",this[a("0xa4")]["style"][a("0x10")]=n["y"]-40+"px"):"rectangle"==t&&(this[a("0xa4")]["style"]["left"]=n["x"]+"px",this[a("0xa4")][a("0x3d")][a("0x10")]=n["y"]-45+"px")},u[a("0x1a")][a("0x139")]=function(e){this[a("0x2a")]("radiuschange",e)},u["prototype"][a("0x7a")]=function(e){this["dispatchEvent"]("rectwhchange",e)},g["prototype"]=new(BMapGL[a("0xab")]),g[a("0x1a")]["dispatchEvent"]=i["lang"][a("0x25")]["prototype"][a("0x2a")],g[a("0x1a")][a("0x3")]=i["lang"]["Class"]["prototype"]["addEventListener"],g["prototype"][a("0x92")]=i["lang"][a("0x25")][a("0x1a")]["removeEventListener"],g[a("0x1a")][a("0x63")]=function(e){var t=this;this["_map"]=e;var n=this[a("0x51")]=document["createElement"](a("0xa4")),i=this["_map"]["getSize"]();return n["style"][a("0x117")]=a("0xad")+i["width"]+a("0x127")+i["height"]+"px",this["_map"][a("0x3")]("resize",(function(e){t["_adjustSize"](e["size"])})),this["_map"][a("0x80")]()[a("0xdf")][a("0x6")](n),this[a("0x13")](),n},g[a("0x1a")][a("0x102")]=function(){var e=this[a("0x112")],t=e[a("0xf1")](new(BMapGL[a("0x88")])(0,0)),n=e["pointToOverlayPixel"](t);this[a("0x51")][a("0x3d")][a("0xbd")]=n["x"]+"px",this[a("0x51")][a("0x3d")][a("0x10")]=n["y"]+"px"},g[a("0x1a")]["enableEdgeMove"]=function(){this["_enableEdgeMove"]=!0},g[a("0x1a")]["disableEdgeMove"]=function(){clearInterval(this[a("0xa3")]),this[a("0xfb")]=!1},g["prototype"][a("0x13")]=function(){var e=this,t=(this[a("0x112")],this["container"]),n=null,x=null,o=function(e){return{x:e[a("0x13a")],y:e["clientY"]}},s=function(t){var s=t[a("0x146")];t=i[a("0x105")](t),point=e["getDrawPoint"](t);var r=function(n){t["point"]=point,e["dispatchEvent"](t)};"mousedown"==s&&(n=o(t));var l=o(t);s==a("0x10e")?Math[a("0xf5")](l["x"]-n["x"])<5&&Math["abs"](l["y"]-n["y"])<5&&(x&&Math["abs"](l["x"]-x["x"])<5&&Math[a("0xf5")](l["y"]-x["y"])<5?x=null:(r("click"),x=o(t))):r(s)},r=[a("0x10e"),a("0xa9"),a("0x70"),a("0xd9"),"dblclick"],l=r[a("0x58")];while(l--)i["on"](t,r[l],s);i["on"](t,"mousemove",(function(t){e[a("0xfb")]&&e["mousemoveAction"](t)}))},g[a("0x1a")][a("0x130")]=function(e){function t(e){var t=e["clientX"],n=e[a("0x129")];return e[a("0xe5")]&&(t=e["changedTouches"][0][a("0x13a")],n=e[a("0xe5")][0]["clientY"]),new BMapGL["Pixel"](t,n)}var n=this["_map"],i=this,x=n[a("0x13f")](this["getDrawPoint"](e)),o=t(e),s=o["x"]-x["x"],r=o["y"]-x["y"];x=new BMapGL["Pixel"](o["x"]-s,o["y"]-r),this["_draggingMovePixel"]=x;n["pixelToPoint"](x);this[a("0x103")]=this["_panByY"]=0,x["x"]<=20||x["x"]>=n["width"]-20||x["y"]<=50||x["y"]>=n["height"]-10?(x["x"]<=20?this["_panByX"]=8:x["x"]>=n["width"]-20&&(this[a("0x103")]=-8),x["y"]<=50?this["_panByY"]=8:x["y"]>=n[a("0xcc")]-10&&(this["_panByY"]=-8),this["_edgeMoveTimer"]||(this["_edgeMoveTimer"]=setInterval((function(){n[a("0x11")](i[a("0x103")],i["_panByY"],{noAnimation:!0})}),30))):this["_edgeMoveTimer"]&&(clearInterval(this["_edgeMoveTimer"]),this[a("0xa3")]=null)},g["prototype"][a("0xac")]=function(e){this["container"]["style"]["width"]=e[a("0x110")]+"px",this[a("0x51")][a("0x3d")][a("0xcc")]=e["height"]+"px"},g["prototype"]["getDrawPoint"]=function(e){var t=this[a("0x112")],n=i["getTarget"](e),x=e["offsetX"]||e[a("0x82")]||0,o=e["offsetY"]||e["layerY"]||0;1!=n["nodeType"]&&(n=n["parentNode"]);while(n&&n!=t[a("0x116")]())0==n[a("0x38")]&&0==n["clientHeight"]&&n[a("0x113")]&&"TD"==n["offsetParent"][a("0x2c")]||(x+=n["offsetLeft"]||0,o+=n["offsetTop"]||0),n=n[a("0x113")];var s=new(BMapGL[a("0x88")])(x,o),r=t["pixelToPoint"](s);return r},f["prototype"]=new BMapGL["Control"],f["prototype"][a("0x63")]=function(e){var t=this["container"]=document["createElement"](a("0xa4"));t["className"]="BMapGLLib_Drawing";var n=this["panel"]=document["createElement"](a("0xa4"));n["className"]=a("0xf4"),this["drawingToolOptions"]&&this[a("0x12a")]["hasCustomStyle"]&&this["drawingToolOptions"]["scale"]&&this[a("0xc7")](this["drawingToolOptions"][a("0xd0")]),t["appendChild"](n);var x=this["_generalHtml"]();n["appendChild"](x);var o=this[a("0x122")]=document[a("0x69")]("div");return o["className"]=a("0xed"),o[a("0x12e")]=a("0xda"),!0===this[a("0x12a")][a("0x18")]&&n[a("0x6")](o),this["_bind"](n),this["drawingToolOptions"][a("0x62")]?i["g"](this[a("0x12a")][a("0x62")])[a("0x6")](t):e["getContainer"]()["appendChild"](t),t},f[a("0x1a")][a("0xa8")]=function(e){var t=this,n={};n["hander"]=a("0x81"),n[o]="画点",n[r]=a("0xca"),n[s]=a("0x131"),n[c]="多边形工具",n[l]="矩形工具";for(var i=function(e,i){var x=document["createElement"]("a");return x["className"]=e,x["href"]="javascript:void(0)",x[a("0xa1")](a("0x15"),i),x[a("0xa1")]("onfocus","this.blur()"),x["addEventListener"](a("0x36"),(function(e){var i=e["target"]["getAttribute"](a("0x15")),x=n[i];"hander"===i?(t["tip"][a("0x135")][0][a("0x141")]=x,t["tip"]["children"][1]["innerText"]=a("0x37")):(t[a("0x122")][a("0x19")]+=" "+i,t[a("0x122")]["children"][0][a("0x141")]=x,t["tip"]["children"][1][a("0x141")]="使用"+x+"选出目标区域"),t["tip"]["style"]["display"]=a("0x109")})),x[a("0x3")]("mouseleave",(function(e){var n=e["target"]["getAttribute"](a("0x15")),i=" "+t["tip"]["className"][a("0xcd")](/[\t\r\n]/g,"")+" ";while(i[a("0xc6")](" "+n+" ")>=0)i=i[a("0xcd")](" "+n+" "," ");t["tip"][a("0x19")]=i[a("0xcd")](/^\s+|\s+$/g,""),t["tip"]["style"][a("0x67")]="none"})),x},x=document["createDocumentFragment"](),p=0,d=this[a("0xf9")][a("0x58")];p<d;p++){var h=a("0x7e")+this["drawingModes"][p];p==d-1&&(h+=a("0x128")),x["appendChild"](i(h,this[a("0xf9")][p]))}return x},f["prototype"][a("0xc7")]=function(e){var t=390,n=50,i=-parseInt((t-t*e)/2,10),x=-parseInt((n-n*e)/2,10);this[a("0x51")][a("0x3d")]["cssText"]=[a("0xa5")+e+");","-o-transform: scale("+e+");",a("0xc3")+e+");",a("0xef")+e+");","margin-left:"+i+"px;","margin-top:"+x+a("0xaa"),"*margin-left:0px;","*margin-top:0px;","margin-left:0px\\0;",a("0x12f"),"filter: progid:DXImageTransform.Microsoft.Matrix(","M11="+e+",","M12=0,","M21=0,",a("0xa")+e+",","SizingMethod='auto expand');"][a("0xc")]("")},f["prototype"]["_bind"]=function(e){var t=this;i["on"](this["panel"],a("0x10e"),(function(e){var n=i["getTarget"](e),x=n["getAttribute"]("drawingType");t[a("0xae")](x),t[a("0x21")](x)}))},f["prototype"][a("0xae")]=function(e){if(e)for(var t=this["panel"][a("0x114")]("a"),n=0,i=t["length"];n<i;n++){var x=t[n];if(x[a("0xdc")](a("0x15"))==e){var o=a("0x7e")+e+"_hover";n==i-1&&(o+=" BMapGLLib_last"),x["className"]=o}else x[a("0x19")]=x["className"]["replace"](/_hover/,"")}},f[a("0x1a")]["_bindEventByDraingMode"]=function(e){var t=this[a("0x7b")];t[a("0x3e")]&&t[a("0x108")]()===e?(t["close"](),t[a("0x112")][a("0xb3")]()):(t["setDrawingMode"](e),t[a("0x65")](),t["_map"]["disableDoubleClickZoom"]())};var v=[];function y(e){var t=v[a("0x58")];while(t--)v[t]!=e&&v[t][a("0x1d")]()}function b(e,t,n){var i,x,o,s=e[a("0xbe")],r=e[a("0x107")],l=t/6378800,c=Math["PI"]/180*r,p=Math["PI"]/180*s;switch(n){case a("0x2e"):case a("0x144"):case"N":case"n":i=0,x=e[a("0xbe")];break;case a("0x6f"):case a("0x138"):case"W":case"w":i=90,o=e["lat"];break;case a("0x11b"):case"south":case"S":case"s":i=180,x=e["lng"];break;case a("0x134"):case a("0xa6"):case"E":case"e":i=270,o=e[a("0x107")];break;default:i=~~n;break}var d=Math["PI"]/180*i,h=Math[a("0x4c")](Math["sin"](c)*Math[a("0xbb")](l)+Math["cos"](c)*Math["sin"](l)*Math["cos"](d)),u=Math[a("0x78")](Math[a("0x93")](d)*Math["sin"](l)*Math["cos"](c),Math["cos"](l)-Math[a("0x93")](c)*Math["sin"](h)),g=(p-u+Math["PI"])%(2*Math["PI"])-Math["PI"],f=new BMapGL["Point"](x||g*(180/Math["PI"]),o||h*(180/Math["PI"]));return f["lng"]=parseFloat(f["lng"]["toFixed"](6)),f[a("0x107")]=parseFloat(f[a("0x107")]["toFixed"](6)),f}})()}}]);
//# sourceMappingURL=bdgl-map-lib.umd.min.619.js.map